<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bingus & Amor's Trip üíñ</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts: Quicksand -->
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        body { 
            font-family: 'Quicksand', sans-serif; 
            background-color: #fff1f2;
            background-image: 
                radial-gradient(at 10% 10%, rgba(253, 164, 175, 0.2) 0px, transparent 50%), 
                radial-gradient(at 90% 10%, rgba(251, 191, 36, 0.15) 0px, transparent 50%), 
                radial-gradient(at 50% 90%, rgba(52, 211, 153, 0.15) 0px, transparent 50%);
            background-attachment: fixed;
            color: #4c0519;
            min-height: 100vh;
        }
        
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        @keyframes modalPop { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
        
        /* Badges */
        .badge-res-high { background-color: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        .badge-res-med { background-color: #ffedd5; color: #9a3412; border: 1px solid #fed7aa; }
        .badge-res-low { background-color: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        
        /* Card Hover */
        .card-hover { transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1); }
        .card-hover:hover { transform: translateY(-4px) scale(1.01); box-shadow: 0 15px 30px -5px rgba(251, 113, 133, 0.2); z-index: 10; }

        /* Image Handling */
        .img-fallback {
            background-color: #ffe4e6;
            display: flex; align-items: center; justify-content: center;
            color: #fb7185; font-weight: 700; font-size: 1.5rem; letter-spacing: 0.05em;
            width: 100%; height: 100%;
        }
        
        /* Scrollbars */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #fda4af; border-radius: 20px; }

        /* Animation Keyframes */
        .beer-cursor { transition: left 1s linear; will-change: left; }
        .heart-active { animation: heartPop 0.3s ease-out forwards; }
        @keyframes heartPop { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useRef, useEffect } = React;

        // --- FX RATES ---
        const FX_RATES = { 'HUF': 430, 'EUR': 1.06, 'CZK': 26 };

        // --- DATENBANK ---
        const DB = [
             { id: "t1", city: "Transfer", cat: "Transport", subtag: "train", title: "RegioJet Business Class", cost: 40, time: "2h 40min", res: "Zwingend", address: "Budapest-Keleti, 1087 Budapest", desc: "Route: Budapest -> Wien. 4er-Abteil, Ledersessel. Gratis Sekt/Kaffee.", img: "regiojetbu.jpg" },
            { id: "t2", city: "Transfer", cat: "Transport", subtag: "train", title: "√ñBB Railjet Business", cost: 80, time: "4h 05min", res: "Zwingend", address: "Wien Hbf, 1100 Wien", desc: "Route: Wien -> Prag. Upgrade zur 1. Klasse. Extrem ruhig.", img: "regiojetbu.jpg" },
            { id: "b_f1", city: "Budapest", cat: "Essen", subtag: "casual", title: "Menza √âtterem", cost: 35, time: "1.5h", res: "Empfohlen", address: "Liszt Ferenc t√©r 2, 1061 Ungarn", desc: "Retro-70er Style Kantine, gehoben. Sehr lecker.", img: "menzatt.jpg" },
            { id: "b_f2", city: "Budapest", cat: "Essen", subtag: "street", title: "Street Food Karavan", cost: 15, time: "45min", res: "Nein", address: "Kazinczy u. 18, 1075 Ungarn", desc: "Direkt neben Szimpla. L√°ngos-Burger.", img: "streetfo.jpg" },
            { id: "b_f3", city: "Budapest", cat: "Essen", subtag: "fine", title: "Mazel Tov", cost: 60, time: "2h", res: "Zwingend", address: "Ak√°cfa u. 47, 1072 Ungarn", desc: "Israelische Fusion in schicker Ruine. Tolle Atmosph√§re.", img: "mazelto.jpg" },
            { id: "b_f4", city: "Budapest", cat: "Essen", subtag: "street", title: "Pizza Manufaktura", cost: 20, time: "1h", res: "Nein", address: "L√≥nyay u. 9, 1093 Ungarn", desc: "Local & Pizza. Entspannt, g√ºnstig.", img: "pizzama.jpg" },
            { id: "b_f5", city: "Budapest", cat: "Essen", subtag: "fine", title: "Twentysix", cost: 70, time: "2h", res: "Empfohlen", address: "Kir√°ly u. 26, 1061 Ungarn", desc: "Indoor-Dschungel. Mediterran.", img: "twentysix.jpg" },
            { id: "b_f6", city: "Budapest", cat: "Essen", subtag: "casual", title: "Gett√≥ Guly√°s", cost: 30, time: "1.5h", res: "Empfohlen", address: "Wessel√©nyi u. 18, 1077 Ungarn", desc: "Bestes P√∂rk√∂lt (Gulasch) im Partyviertel.", img: "gettgu.jpg" },
            { id: "b_f7", city: "Budapest", cat: "Essen", subtag: "casual", title: "Cirkusz", cost: 30, time: "1.5h", res: "Nein", address: "Dob u. 25, 1074 Ungarn", desc: "Ber√ºhmtester Brunch-Spot.", img: "cirkusz.jpg" },
            { id: "b_f8", city: "Budapest", cat: "Essen", subtag: "street", title: "Bamba Marha", cost: 20, time: "45min", res: "Nein", address: "Okt√≥ber 6. u. 6, 1051 Ungarn", desc: "Top Burger.", img: "bambama.jpg" },
            { id: "b_f9", city: "Budapest", cat: "Essen", subtag: "street", title: "Frici Papa", cost: 15, time: "45min", res: "Nein", address: "Kir√°ly u. 55, 1077 Ungarn", desc: "Kantine. Spottbillig.", img: "fricipa.jpg" },
            { id: "b_f10", city: "Budapest", cat: "Essen", subtag: "casual", title: "Dobrumba", cost: 40, time: "1.5h", res: "Empfohlen", address: "Dob u. 5, 1074 Ungarn", desc: "Levante K√ºche. Sehr hip.", img: "dobrumba.jpg" },
            { id: "b_f11", city: "Budapest", cat: "Essen", subtag: "fine", title: "Beerstro 14", cost: 50, time: "1.5h", res: "Empfohlen", address: "K√°rolyi utca 12, 1053 Ungarn", desc: "Steaks und Craft Beer.", img: "beerstro14.jpg" },
            { id: "b_f12", city: "Budapest", cat: "Essen", subtag: "casual", title: "Jamie Oliver's Italian", cost: 50, time: "1.5h", res: "M√∂glich", address: "Szenth√°roms√°g u. 9-11, 1014 Ungarn", desc: "Solide Lage bei Fischerbastei.", img: "jamieol.jpg" },
            { id: "b_f13", city: "Budapest", cat: "Essen", subtag: "fine", title: "D√©ryn√©", cost: 60, time: "2h", res: "Zwingend", address: "Krisztina t√©r 3, 1013 Ungarn", desc: "Treffpunkt der Buda-Elite.", img: "dryn.jpg" },
            { id: "b_f14", city: "Budapest", cat: "Essen", subtag: "street", title: "Moto Pizza", cost: 25, time: "1h", res: "Nein", address: "Bart√≥k B√©la √∫t 46, 1111 Ungarn", desc: "Neapolitanische Pizza.", img: "motopi.jpg" },
            { id: "b_f15", city: "Budapest", cat: "Essen", subtag: "street", title: "Bors Gastro Bar", cost: 15, time: "30min", res: "Nein", address: "Kazinczy u. 10, 1075 Ungarn", desc: "Suppen/Baguettes to go.", img: "borsga.jpg" },
            { id: "b_f16", city: "Budapest", cat: "Essen", subtag: "casual", title: "Franziska", cost: 35, time: "1.5h", res: "Empfohlen", address: "Iskola u. 29, 1011 Ungarn", desc: "Healthy Food, Smoothie Bowls.", img: "franziska.jpg" },
            { id: "b_f17", city: "Budapest", cat: "Essen", subtag: "casual", title: "Vinyl & Wood", cost: 25, time: "1h", res: "Nein", address: "Wessel√©nyi u. 23, 1077 Ungarn", desc: "Cooles Design, guter Toast.", img: "vinylwo.jpg" },
            { id: "b_f18", city: "Budapest", cat: "Essen", subtag: "street", title: "Gro√üe Markthalle", cost: 15, time: "1h", res: "Nein", address: "V√°mh√°z krt. 1-3, 1093 Ungarn", desc: "St√§nde (Langos/Wurst).", img: "groema.jpg" },
            { id: "b_f19", city: "Budapest", cat: "Essen", subtag: "street", title: "Pink Pistachio", cost: 20, time: "30min", res: "Nein", address: "Hercegpr√≠m√°s u. 15, 1051 Ungarn", desc: "S√º√ües & Eis.", img: "pinkpi.jpg" },
            { id: "b_f20", city: "Budapest", cat: "Essen", subtag: "street", title: "Retro L√°ngos", cost: 10, time: "30min", res: "Nein", address: "Bajcsy-Zsilinszky √∫t 25, 1065 Ungarn", desc: "Der Klassiker f√ºr L√°ngos.", img: "retroln.jpg" },
            { id: "b_f21", city: "Budapest", cat: "Essen", subtag: "street", title: "Cookie Beacon", cost: 20, time: "45min", res: "Nein", address: "Hercegpr√≠m√°s u. 15, 1051 Ungarn", desc: "Massive Cookies & Brunch.", img: "cookiebe.jpg" },
            { id: "b_f22", city: "Budapest", cat: "Essen", subtag: "street", title: "Buddy's Smash Burgers", cost: 20, time: "45min", res: "Nein", address: "Feh√©r Haj√≥ u. 8, 1052 Ungarn", desc: "Smashed Burger.", img: "buddys.jpg" },
            { id: "b_f23", city: "Budapest", cat: "Essen", subtag: "casual", title: "Retek Bistro", cost: 40, time: "1.5h", res: "Empfohlen", address: "M√©rleg u. 10, 1051 Ungarn", desc: "Klassisch ungarisch.", img: "retekbi.jpg" },
            { id: "b_f24", city: "Budapest", cat: "Essen", subtag: "fine", title: "Arquitecto Pitpit", cost: 50, time: "2h", res: "Empfohlen", address: "√ñtpacsirta u. 2, 1088 Ungarn", desc: "Tapas im Innenhof.", img: "arquitectopi.jpg" },
            { id: "b_f25", city: "Budapest", cat: "Essen", subtag: "street", title: "Crudo Pizza", cost: 25, time: "1h", res: "Nein", address: "Feh√©r Haj√≥ u. 2-6, 1052 Ungarn", desc: "Pizza & Wine.", img: "crudopi.jpg" },
            { id: "b_f26", city: "Budapest", cat: "Essen", subtag: "street", title: "Fluffy and me Pancake", cost: 20, time: "45min", res: "Nein", address: "Kazinczy u. 52 C, 1075 Ungarn", desc: "Fluffige japanische Pancakes.", img: "fluffyan.jpg" },
            { id: "b_f27", city: "Budapest", cat: "Essen", subtag: "street", title: "McDonalds Nyugati", cost: 15, time: "30min", res: "Nein", address: "Ter√©z krt. 55, 1062 Ungarn", desc: "Der sch√∂nste McDonalds der Welt.", img: "mcdonaldsny.jpg" },

            // --- BUDAPEST AKTIVIT√ÑT ---
            { id: "b_a1", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "House of Terror", cost: 15, time: "2h", res: "Nein", address: "Andr√°ssy √∫t 60, 1062 Ungarn", desc: "Museum Nazi- & Sowjetzeit.", img: "houseof.jpg" },
            { id: "b_a2", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Mandala Day Spa", cost: 100, time: "3h+", res: "Zwingend", address: "Ipoly u. 8, 1133 Ungarn", desc: "Luxus pur, Massagen.", img: "mandalada.jpg" },
            { id: "b_a3", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "Chimney Cake Workshop", cost: 35, time: "1.5h", res: "Zwingend", address: "R√°k√≥czi √∫t 73, 1088 Ungarn", desc: "K√ºrt≈ëskal√°cs selber backen.", img: "chimneyca.jpg" },
            { id: "b_a4", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Flippermuseum", cost: 15, time: "2h+", res: "Nein", address: "Radn√≥ti Mikl√≥s u. 18, 1137 Ungarn", desc: "140+ Automaten Free Play.", img: "flippermuseum.jpg" },
            { id: "b_a5", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "St. Stephans Basilika", cost: 10, time: "1h", res: "Nein", address: "Szent Istv√°n t√©r 1, 1051 Ungarn", desc: "Hoch auf die Kuppel f√ºr den Ausblick.", img: "stst.jpg" },
            { id: "b_a6", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Budaer Burgviertel", cost: 15, time: "2h", res: "Nein", address: "Szent Gy√∂rgy t√©r 2, 1014 Ungarn", desc: "Mit Standseilbahn hoch. Aussicht genie√üen.", img: "budaerbu.jpg" },
            { id: "b_a7", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Schuhe am Donauufer", cost: 0, time: "30min", res: "Nein", address: "Id. Antall J√≥zsef rkp., 1054 Ungarn", desc: "Bewegendes Mahnmal.", img: "schuheam.jpg" },
            { id: "b_a8", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "Light Art Museum", cost: 25, time: "1.5h", res: "Empfohlen", address: "Hold u. 13, 1054 Ungarn", desc: "Trippy Lichtinstallationen.", img: "lightar.jpg" },
            { id: "b_a9", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "House of Houdini", cost: 15, time: "1h", res: "Nein", address: "D√≠sz t√©r 11, 1014 Ungarn", desc: "Im Burgviertel. Mit Live-Zaubershow.", img: "houseofhou.jpg" },
            { id: "b_a10", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "Fischerbastei", cost: 10, time: "1h", res: "Nein", address: "Szenth√°roms√°g t√©r, 1014 Ungarn", desc: "Der Fotospot schlechthin.", img: "fischerbastei.jpg" },
            { id: "b_a11", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "Hospital in the Rock", cost: 20, time: "1.5h", res: "Empfohlen", address: "Lovas √∫t 4/c, 1012 Ungarn", desc: "Atombunker/Hospital.", img: "hospitalin.jpg" },
            { id: "b_a12", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Zugliget Chairlift", cost: 15, time: "1h", res: "Nein", address: "Zugligeti √∫t 97, 1121 Ungarn", desc: "Sessellift.", img: "zugligetch.jpg" },
            { id: "b_a13", city: "Budapest", cat: "Aktivit√§t", subtag: "culture", title: "Museum of Sweets & Selfies", cost: 20, time: "1h", res: "Empfohlen", address: "Paulay Ede u. 43, 1061 Ungarn", desc: "Instagram Fotos.", img: "museumof.jpg" },
            { id: "b_a14", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Cyberjump", cost: 20, time: "1.5h", res: "Empfohlen", address: "Hengermalom √∫t 19, 1117 Ungarn", desc: "Trampolin Park.", img: "cyberjump.jpg" },
            { id: "b_a15", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Budapest Eye", cost: 15, time: "20min", res: "Nein", address: "Erzs√©bet t√©r, 1051 Ungarn", desc: "Riesenrad.", img: "budapestey.jpg" },
            { id: "b_a16", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Gozsdu Udvar Arcade", cost: 10, time: "30min", res: "Nein", address: "Dob u. 16, 1075 Ungarn", desc: "Airhockey.", img: "gozsduud.jpg" },
            { id: "b_a17", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Donau Night Walk", cost: 0, time: "1h", res: "Nein", address: "Bem rkp., 1011 Ungarn", desc: "Parlament leuchtet.", img: "donauni.jpg" },
            { id: "b_a18", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Rudas Bad", cost: 35, time: "3h", res: "Nein", address: "D√∂brentei t√©r 9, 1013 Ungarn", desc: "T√ºrkisches Bad.", img: "rudasba.jpg" },
            { id: "b_a19", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Luk√°cs Bad", cost: 25, time: "3h", res: "Nein", address: "Frankel Le√≥ √∫t 25-29, 1023 Ungarn", desc: "Favorit der Einheimischen.", img: "lukcsba.jpg" },
            { id: "b_a20", city: "Budapest", cat: "Aktivit√§t", subtag: "relax", title: "Palatinus Strand", cost: 20, time: "4h", res: "Nein", address: "Margitsziget, 1007 Ungarn", desc: "Freibad Margareteninsel.", img: "palatinusst.jpg" },

            // --- BUDAPEST PARTY ---
            { id: "b_p1", city: "Budapest", cat: "Party", subtag: "bar", title: "Szimpla Kert", cost: 15, time: "Open End", res: "Nein", address: "Kazinczy u. 14, 1075 Ungarn", desc: "Muss sein. Ruinenbar.", img: "szimplake.jpg" },
            { id: "b_p2", city: "Budapest", cat: "Party", subtag: "club", title: "Instant-Fogas", cost: 10, time: "Bis 06:00", res: "Nein", address: "Ak√°cfa u. 49-51, 1073 Ungarn", desc: "Riesiges Labyrinth, 7 Floors.", img: "instantfogas.jpg" },
            { id: "b_p3", city: "Budapest", cat: "Party", subtag: "bar", title: "Hotsy Totsy", cost: 40, time: "2h", res: "Empfohlen", address: "S√≠p u. 24, 1075 Ungarn", desc: "High-End Cocktails.", img: "hotsyto.jpg" },
            { id: "b_p4", city: "Budapest", cat: "Party", subtag: "club", title: "Aether", cost: 20, time: "Bis 06:00", res: "Nein", address: "Kiraly u. 13 (Gozsdu), 1075 Ungarn", desc: "Techno/House Keller.", img: "aether.jpg" },
            { id: "b_p5", city: "Budapest", cat: "Party", subtag: "club", title: "√ñtkert", cost: 20, time: "Bis 05:00", res: "Nein", address: "Zr√≠nyi u. 4/A, 1051 Ungarn", desc: "Posher, R&B Hits.", img: "tkert.jpg" },
            { id: "b_p6", city: "Budapest", cat: "Party", subtag: "bar", title: "Pontoon", cost: 0, time: "Open End", res: "Nein", address: "Id. Antall J√≥zsef rkp. 1, 1051 Ungarn", desc: "Open Air an der Br√ºcke.", img: "pontoon.jpg" },
            { id: "b_p7", city: "Budapest", cat: "Party", subtag: "bar", title: "D√ºrer Kert", cost: 15, time: "Open End", res: "Nein", address: "√ñb√∂l u. 1, 1117 Ungarn", desc: "Alternative Szene, Garten.", img: "drerke.jpg" },
            { id: "b_p8", city: "Budapest", cat: "Party", subtag: "club", title: "Budapest Boat Party", cost: 40, time: "22:00-00:00", res: "Ticket", address: "Pet≈ëfi t√©r 9, 1052 Ungarn", desc: "Auf Schiff saufen.", img: "budapestbo.jpg" },
            { id: "b_p9", city: "Budapest", cat: "Party", subtag: "bar", title: "Boutiq'Bar", cost: 40, time: "2h", res: "Empfohlen", address: "Paulay Ede u. 5, 1061 Ungarn", desc: "Weltklasse Cocktails.", img: "boutiqbar.jpg" },
            { id: "b_p10", city: "Budapest", cat: "Party", subtag: "bar", title: "Csendes L√©tterem", cost: 15, time: "2h", res: "Nein", address: "Ferenczy Istv√°n u. 5, 1053 Ungarn", desc: "Surreale Vintage-Bar.", img: "csendeslt.jpg" },
            { id: "b_p11", city: "Budapest", cat: "Party", subtag: "bar", title: "√âleszt≈ëh√°z", cost: 20, time: "2h", res: "Nein", address: "T≈±zolt√≥ u. 22, 1094 Ungarn", desc: "Ruinen-Pub f√ºr Craft Beer.", img: "leszthz.jpg" },
            { id: "b_p12", city: "Budapest", cat: "Party", subtag: "bar", title: "Madhouse", cost: 25, time: "2h", res: "Nein", address: "Anker k√∂z 1-3, 1061 Ungarn", desc: "Bistro der Mad Scientist Brauerei.", img: "madhouse.jpg" },

            // --- WIEN ESSEN ---
            { id: "w_f1", city: "Wien", cat: "Essen", subtag: "casual", title: "Schwarzes Kameel", cost: 35, time: "1h", res: "Nein", address: "Bognergasse 5, 1010 Wien", desc: "MUST-DO. Stehbuffet, Br√∂tchen & Wein. Society Treff.", img: "schwarzeska.jpg" },
            { id: "w_f2", city: "Wien", cat: "Essen", subtag: "casual", title: "Figlm√ºller", cost: 45, time: "1.5h", res: "Zwingend", address: "Wollzeile 5, 1010 Wien", desc: "Heimat des Schnitzels.", img: "figlmller.jpg" },
            { id: "w_f3", city: "Wien", cat: "Essen", subtag: "casual", title: "Naschmarkt (NENI)", cost: 35, time: "1.5h", res: "Empfohlen", address: "Naschmarkt 510, 1060 Wien", desc: "Israelisch am Markt.", img: "naschmarkt.jpg" },
            { id: "w_f4", city: "Wien", cat: "Essen", subtag: "fine", title: "Mochi", cost: 80, time: "2h", res: "Zwingend", address: "Praterstra√üe 15, 1020 Wien", desc: "Bestes Sushi/Fusion.", img: "mochi.jpg" },
            { id: "w_f5", city: "Wien", cat: "Essen", subtag: "fine", title: "Seven North", cost: 70, time: "2.5h", res: "Empfohlen", address: "Schottenfeldgasse 74, 1070 Wien", desc: "Eyal Shani. Laut, international.", img: "sevenno.jpg" },
            { id: "w_f6", city: "Wien", cat: "Essen", subtag: "casual", title: "Schnitzelwirt", cost: 30, time: "1h", res: "Nein", address: "Neubaugasse 52, 1070 Wien", desc: "Riesige Portionen, g√ºnstig.", img: "schnitzelwirt.jpg" },
            { id: "w_f7", city: "Wien", cat: "Essen", subtag: "street", title: "Swing Kitchen", cost: 20, time: "45min", res: "Nein", address: "Operngasse 24, 1040 Wien", desc: "Bester veganer Burger.", img: "swingki.jpg" },
            { id: "w_f8", city: "Wien", cat: "Essen", subtag: "street", title: "Leberkas-Pepi", cost: 8, time: "15min", res: "Nein", address: "Operngasse 12, 1010 Wien", desc: "Bester Leberk√§se.", img: "leberkaspepi.jpg" },
            { id: "w_f9", city: "Wien", cat: "Essen", subtag: "fine", title: "Tian Bistro", cost: 60, time: "2h", res: "Empfohlen", address: "Schrankgasse 4, 1070 Wien", desc: "Vegetarisches Fine Dining.", img: "tianbi.jpg" },
            { id: "w_f10", city: "Wien", cat: "Essen", subtag: "fine", title: "Lugeck", cost: 50, time: "2h", res: "Zwingend", address: "Lugeck 4, 1010 Wien", desc: "Modernes Wirtshaus.", img: "lugeck.jpg" },
            { id: "w_f11", city: "Wien", cat: "Essen", subtag: "casual", title: "Caf√© Drechsler", cost: 25, time: "1h", res: "Nein", address: "Linke Wienzeile 22, 1060 Wien", desc: "Klassisches Kaffeehaus.", img: "cafdr.jpg" },
            { id: "w_f12", city: "Wien", cat: "Essen", subtag: "casual", title: "Vollpension", cost: 25, time: "1.5h", res: "Empfohlen", address: "Schleifm√ºhlgasse 16, 1040 Wien", desc: "Kuchen von Omas.", img: "vollpension.jpg" },
            { id: "w_f13", city: "Wien", cat: "Essen", subtag: "casual", title: "Ulrich", cost: 35, time: "1.5h", res: "Empfohlen", address: "Sankt-Ulrichs-Platz 1, 1070 Wien", desc: "Top Fr√ºhst√ºck.", img: "ulrich.jpg" },
            { id: "w_f14", city: "Wien", cat: "Essen", subtag: "fine", title: "Das Loft", cost: 60, time: "2h", res: "Zwingend", address: "Praterstra√üe 1, 1020 Wien", desc: "Teurer Brunch mit Blick.", img: "daslo.jpg" },
            { id: "w_f15", city: "Wien", cat: "Essen", subtag: "casual", title: "Schweizerhaus", cost: 40, time: "2h", res: "Nein", address: "Prater 116, 1020 Wien", desc: "Stelze und Bier.", img: "schweizerhaus.jpg" },
            { id: "w_f16", city: "Wien", cat: "Essen", subtag: "casual", title: "Glacis Beisl", cost: 45, time: "2h", res: "Empfohlen", address: "Breite G. 4, 1070 Wien", desc: "Versteckt im MQ.", img: "glacisbe.jpg" },
            { id: "w_f17", city: "Wien", cat: "Essen", subtag: "street", title: "Pizza Mari", cost: 25, time: "1h", res: "Nein", address: "Leopoldsgasse 23A, 1020 Wien", desc: "Beste Pizza.", img: "pizzamari.jpg" },
            { id: "w_f18", city: "Wien", cat: "Essen", subtag: "street", title: "Fenster Caf√©", cost: 10, time: "15min", res: "Nein", address: "Griechengasse 10, 1010 Wien", desc: "Kaffee in der Waffel.", img: "fensterca.jpg" },
            { id: "w_f19", city: "Wien", cat: "Essen", subtag: "casual", title: "Caf√© Central", cost: 30, time: "1h", res: "Nein", address: "Herrengasse 14, 1010 Wien", desc: "Touristisch, aber sch√∂n.", img: "cafce.jpg" },
            { id: "w_f20", city: "Wien", cat: "Essen", subtag: "street", title: "Der Wiener Deewan", cost: 15, time: "45min", res: "Nein", address: "Liechtensteinstra√üe 10, 1090 Wien", desc: "Pay as you wish.", img: "derwi.jpg" },
            { id: "w_f21", city: "Wien", cat: "Essen", subtag: "street", title: "Bitzinger", cost: 10, time: "15min", res: "Nein", address: "Albertinaplatz 1, 1010 Wien", desc: "Bester W√ºrstelstand.", img: "bitzinger.jpg" },
            { id: "w_f22", city: "Wien", cat: "Essen", subtag: "street", title: "Burger Bros", cost: 20, time: "45min", res: "Nein", address: "Museumsplatz 1, 1070 Wien", desc: "Casual Burger.", img: "burgerbr.jpg" },
            { id: "w_f23", city: "Wien", cat: "Essen", subtag: "street", title: "Ivy's Pho", cost: 20, time: "45min", res: "Nein", address: "Mariahilfer Str. 103, 1060 Wien", desc: "Vietnamesisch.", img: "ivysph.jpg" },
            { id: "w_f24", city: "Wien", cat: "Essen", subtag: "casual", title: "1500 Foodmakers", cost: 40, time: "1.5h", res: "Empfohlen", address: "Museumstra√üe 9, 1070 Wien", desc: "Im 25hours Hotel.", img: "1500fo.jpg" },
            { id: "w_f25", city: "Wien", cat: "Essen", subtag: "fine", title: "Motto am Fluss", cost: 50, time: "2h", res: "Empfohlen", address: "Franz-Josefs-Kai 2, 1010 Wien", desc: "Schiff-Design.", img: "mottoam.jpg" },
            { id: "w_f26", city: "Wien", cat: "Essen", subtag: "casual", title: "Ramien", cost: 30, time: "1h", res: "Nein", address: "Gumpendorfer Str. 9, 1060 Wien", desc: "Asiatisch.", img: "ramien.jpg" },

            // --- WIEN AKTIVIT√ÑT ---
            { id: "w_a1", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Albertina", cost: 20, time: "2h", res: "Nein", address: "Albertinaplatz 1, 1010 Wien", desc: "Prunkr√§ume & Kunst.", img: "albertina.jpg" },
            { id: "w_a2", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Hundertwasserhaus", cost: 0, time: "30min", res: "Nein", address: "Kegelgasse 36-38, 1030 Wien", desc: "Architektur Fotos.", img: "hundertwasserhaus.jpg" },
            { id: "w_a3", city: "Wien", cat: "Aktivit√§t", subtag: "relax", title: "Prater", cost: 30, time: "3h", res: "Nein", address: "1020 Wien", desc: "Vergn√ºgungspark.", img: "prater.jpg" },
            { id: "w_a4", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Narrenturm", cost: 15, time: "1h", res: "Nein", address: "Spitalgasse 2, 1090 Wien", desc: "Pathologisch-anatomisch.", img: "narrenturm.jpg" },
            { id: "w_a5", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "KHM", cost: 20, time: "2h", res: "Nein", address: "Maria-Theresien-Platz, 1010 Wien", desc: "Kunsthistorisches Museum.", img: "khm.jpg" },
            { id: "w_a6", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Schloss Sch√∂nbrunn", cost: 0, time: "2h", res: "Nein", address: "Sch√∂nbrunner Schlo√üstra√üe 47, 1130 Wien", desc: "Park ist gratis.", img: "schlosssc.jpg" },
            { id: "w_a7", city: "Wien", cat: "Aktivit√§t", subtag: "relax", title: "Haus des Meeres", cost: 25, time: "2h", res: "Nein", address: "Fritz-Gr√ºnbaum-Platz 1, 1060 Wien", desc: "Aquarium im Flakturm.", img: "hausde.jpg" },
            { id: "w_a8", city: "Wien", cat: "Aktivit√§t", subtag: "relax", title: "Therme Wien", cost: 40, time: "4h", res: "Nein", address: "Kurbadstra√üe 14, 1100 Wien", desc: "Moderne Therme.", img: "thermewi.jpg" },
            { id: "w_a9", city: "Wien", cat: "Aktivit√§t", subtag: "relax", title: "Amalienbad", cost: 10, time: "2h", res: "Nein", address: "Reumannplatz 23, 1100 Wien", desc: "Historisches Hallenbad.", img: "amalienbad.jpg" },
            { id: "w_a10", city: "Wien", cat: "Aktivit√§t", subtag: "relax", title: "Donaukanal", cost: 0, time: "1h", res: "Nein", address: "Donaukanal, 1010 Wien", desc: "Graffiti & Chillen.", img: "donaukanal.jpg" },
            { id: "w_a11", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Belvedere", cost: 20, time: "1.5h", res: "Empfohlen", address: "Prinz Eugen-Stra√üe 27, 1030 Wien", desc: "Klimt's Kuss.", img: "belvedere.jpg" },
            { id: "w_a12", city: "Wien", cat: "Aktivit√§t", subtag: "relax", title: "Schmetterlinghaus", cost: 10, time: "30min", res: "Nein", address: "Hofburg, 1010 Wien", desc: "Im Burggarten.", img: "schmetterlinghaus.jpg" },
            { id: "w_a13", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Weltmuseum", cost: 15, time: "1.5h", res: "Nein", address: "Heldenplatz, 1010 Wien", desc: "Ethnologie.", img: "weltmuseum.jpg" },
            { id: "w_a14", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Haus der Musik", cost: 15, time: "1.5h", res: "Nein", address: "Seilerst√§tte 30, 1010 Wien", desc: "Interaktiv.", img: "hausdermusik.jpg" },
            { id: "w_a15", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Dritte Mann Tour", cost: 25, time: "1h", res: "Ticket", address: "Karlsplatz, 1010 Wien", desc: "Kanaltour.", img: "drittema.jpg" },
            { id: "w_a16", city: "Wien", cat: "Aktivit√§t", subtag: "culture", title: "Time Travel Vienna", cost: 20, time: "1h", res: "Nein", address: "Habsburgergasse 10A, 1010 Wien", desc: "5D Show.", img: "timetr.jpg" },

            // --- WIEN PARTY ---
            { id: "w_p1", city: "Wien", cat: "Party", subtag: "club", title: "Volksgarten", cost: 20, time: "Bis 05:00", res: "Nein", address: "Volksgarten, 1010 Wien", desc: "Schicker Club im Park.", img: "volksgarten.jpg" },
            { id: "w_p2", city: "Wien", cat: "Party", subtag: "club", title: "Grelle Forelle", cost: 20, time: "Bis 06:00", res: "Nein", address: "Spittelauer L√§nde 12, 1090 Wien", desc: "Techno, Fotoverbot.", img: "grellefo.jpg" },
            { id: "w_p3", city: "Wien", cat: "Party", subtag: "bar", title: "Travel Shack", cost: 5, time: "Bis 04:00", res: "Nein", address: "Mariahilfer G√ºrtel 21, 1150 Wien", desc: "Backpacker, Shots.", img: "travelsh.jpg" },
            { id: "w_p4", city: "Wien", cat: "Party", subtag: "bar", title: "Loos Bar", cost: 20, time: "1h", res: "Nein", address: "K√§rntner Durchgang 10, 1010 Wien", desc: "Architektur-Ikone.", img: "loosba.jpg" },
            { id: "w_p5", city: "Wien", cat: "Party", subtag: "bar", title: "Dachboden", cost: 20, time: "2h", res: "Nein", address: "Lerchenfelder Str. 1-3, 1070 Wien", desc: "Rooftop Bar.", img: "dachboden.jpg" },
            { id: "w_p6", city: "Wien", cat: "Party", subtag: "bar", title: "Krypt", cost: 25, time: "2h", res: "Nein", address: "Wasagasse 17, 1090 Wien", desc: "Kellerbar.", img: "krypt.jpg" },
            { id: "w_p7", city: "Wien", cat: "Party", subtag: "club", title: "Sass Music Club", cost: 15, time: "Bis 06:00", res: "Nein", address: "Karlsplatz 1, 1010 Wien", desc: "Elektronisch, intim.", img: "sassmu.jpg" },
            { id: "w_p8", city: "Wien", cat: "Party", subtag: "club", title: "Prater Dome", cost: 15, time: "Bis 05:00", res: "Nein", address: "Riesenradplatz 7, 1020 Wien", desc: "Gro√üraumdisco.", img: "praterdo.jpg" },
            { id: "w_p9", city: "Wien", cat: "Party", subtag: "club", title: "Louis Tomlinson", cost: 80, time: "Event", res: "Ticket", address: "Karl-Farkas-Gasse 19, 1030 Wien", desc: "Konzert Marx Halle.", img: "" },

            // --- PRAG ESSEN ---
            { id: "p_f1", city: "Prag", cat: "Essen", subtag: "casual", title: "Kant√Ωna", cost: 40, time: "1.5h", res: "Nein", address: "Politick√Ωch vƒõz≈à≈Ø 1511/5, 110 00 Prag", desc: "Carpaccio-Metzgerei in Bank.", img: "kantna.jpg" },
            { id: "p_f2", city: "Prag", cat: "Essen", subtag: "casual", title: "Lokal Dlouh√°√°√°", cost: 25, time: "Open End", res: "Empfohlen", address: "Dlouh√° 33, 110 00 Prag", desc: "Frischestes Pilsner Urquell.", img: "lokaldl.jpg" },
            { id: "p_f3", city: "Prag", cat: "Essen", subtag: "casual", title: "Vytopna Railway", cost: 35, time: "1.5h", res: "Empfohlen", address: "V√°clavsk√© n√°m. 802/56, 110 00 Prag", desc: "Wenzelsplatz. Getr√§nke kommen mit Modelleisenbahn.", img: "vytopnara.jpg" },
            { id: "p_f4", city: "Prag", cat: "Essen", subtag: "fine", title: "Eska", cost: 40, time: "1.5h", res: "Empfohlen", address: "Pernerova 49, 186 00 Prag", desc: "Karl√≠n. Michelin Bib Gourmand, B√§ckerei-Restaurant.", img: "eska.jpg" },
            { id: "p_f5", city: "Prag", cat: "Essen", subtag: "street", title: "Na≈°e Maso", cost: 25, time: "30min", res: "Nein", address: "Dlouh√° 39, 110 00 Prag", desc: "Mini-Metzgerei. Hackbraten.", img: "naema.jpg" },
            { id: "p_f6", city: "Prag", cat: "Essen", subtag: "fine", title: "Field", cost: 120, time: "3h", res: "Zwingend", address: "U Milosrdn√Ωch 12, 110 00 Prag", desc: "Michelin Stern.", img: "field.jpg" },
            { id: "p_f7", city: "Prag", cat: "Essen", subtag: "street", title: "Manifesto Market", cost: 30, time: "1h", res: "Nein", address: "Ostrovsk√©ho 34, 150 00 Prag", desc: "Hipster Food Container Market.", img: "manifestoma.jpg" },
            { id: "p_f8", city: "Prag", cat: "Essen", subtag: "street", title: "Havelsk√° Koruna", cost: 10, time: "30min", res: "Nein", address: "Havelsk√° 21, 110 00 Prag", desc: "Tschechische Klassiker, Kantine, billig & schnell.", img: "havelskko.jpg" },
            { id: "p_f9", city: "Prag", cat: "Essen", subtag: "street", title: "Banh Mi Ba", cost: 15, time: "45min", res: "Nein", address: "Rybn√° 715/26, 110 00 Prag", desc: "Super vietnamesisches Essen (gro√üe Community in Prag).", img: "banhmi.jpg" },
            { id: "p_f10", city: "Prag", cat: "Essen", subtag: "casual", title: "Kuchy≈à", cost: 40, time: "1.5h", res: "Empfohlen", address: "Hradƒçansk√© n√°m. 1, 118 00 Prag", desc: "Auf der Burg. Tolle Aussicht, Essen aus T√∂pfen.", img: "kuchy.jpg" },
            { id: "p_f11", city: "Prag", cat: "Essen", subtag: "casual", title: "Pork's", cost: 30, time: "1.5h", res: "Empfohlen", address: "Mosteck√° 16, 118 00 Prag", desc: "Haxe.", img: "porks.jpg" },
            { id: "p_f12", city: "Prag", cat: "Essen", subtag: "fine", title: "Sia", cost: 50, time: "2h", res: "Empfohlen", address: "V Celnici 1034/6, 110 00 Prag", desc: "Asiatisch.", img: "sia.jpg" },
            { id: "p_f13", city: "Prag", cat: "Essen", subtag: "casual", title: "The Tavern", cost: 25, time: "1h", res: "Nein", address: "Chopinova 26, 120 00 Prag", desc: "Burger.", img: "theta.jpg" },
            { id: "p_f14", city: "Prag", cat: "Essen", subtag: "casual", title: "Kro Kitchen", cost: 25, time: "1h", res: "Nein", address: "Vinohradsk√° 66, 130 00 Prag", desc: "Rotisserie.", img: "kroki.jpg" },
            { id: "p_f15", city: "Prag", cat: "Essen", subtag: "casual", title: "T-Anker", cost: 30, time: "1.5h", res: "Empfohlen", address: "N√°mƒõst√≠ Republiky 8, 110 00 Prag", desc: "Dachterrasse.", img: "tanker.jpg" },
            { id: "p_f16", city: "Prag", cat: "Essen", subtag: "casual", title: "Vinohradsk√Ω Parlament", cost: 30, time: "1.5h", res: "Empfohlen", address: "Korunn√≠ 1, 120 00 Prag", desc: "Gute Kn√∂delgerichte.", img: "vinohradskpa.jpg" },
            { id: "p_f17", city: "Prag", cat: "Essen", subtag: "casual", title: "Las Adelitas", cost: 30, time: "1.5h", res: "Empfohlen", address: "Americk√° 8, 120 00 Prag", desc: "Guter Mexikaner.", img: "lasad.jpg" },
            { id: "p_f18", city: "Prag", cat: "Essen", subtag: "street", title: "Mr. HotDog", cost: 20, time: "1h", res: "Nein", address: "Kamenick√° 24, 170 00 Prag", desc: "Hotdogs.", img: "mrho.jpg" },
            { id: "p_f19", city: "Prag", cat: "Essen", subtag: "street", title: "Sisters Bistro", cost: 15, time: "30min", res: "Nein", address: "Dlouh√° 39, 110 00 Prag", desc: "Br√∂tchen.", img: "sistersbi.jpg" },
            { id: "p_f20", city: "Prag", cat: "Essen", subtag: "street", title: "Bageterie Boulevard", cost: 10, time: "15min", res: "Nein", address: "V√°clavsk√© n√°m. 56, 110 00 Prag", desc: "Baguettes.", img: "bageteriebo.jpg" },
            { id: "p_f21", city: "Prag", cat: "Essen", subtag: "street", title: "Burrito Loco", cost: 10, time: "15min", res: "Nein", address: "≈†tef√°nikova 230/7, 150 00 Prag", desc: "Burritos.", img: "burritolo.jpg" },
            { id: "p_f22", city: "Prag", cat: "Essen", subtag: "casual", title: "Bistro Monk", cost: 30, time: "1h", res: "Empfohlen", address: "Michalsk√° 20, 110 00 Prag", desc: "Sehr beliebtes Fr√ºhst√ºck.", img: "bistromo.jpg" },
            { id: "p_f23", city: "Prag", cat: "Essen", subtag: "casual", title: "Venue", cost: 30, time: "1h", res: "Nein", address: "Havelsk√° 4, 110 00 Prag", desc: "Tolle Brunch-Teller.", img: "venue.jpg" },
            { id: "p_f24", city: "Prag", cat: "Essen", subtag: "street", title: "Bakeshop", cost: 25, time: "30min", res: "Nein", address: "Koz√≠ 1, 110 00 Prag", desc: "Dlouh√° Stra√üe. Backwaren.", img: "bakeshop.jpg" },
            { id: "p_f25", city: "Prag", cat: "Essen", subtag: "fine", title: "Caf√© Savoy", cost: 40, time: "1.5h", res: "Empfohlen", address: "V√≠tƒõzn√° 5, 150 00 Prag", desc: "Imperial.", img: "cafsa.jpg" },
            { id: "p_f26", city: "Prag", cat: "Essen", subtag: "street", title: "Super Tramp Coffee", cost: 10, time: "30min", res: "Nein", address: "Opatovick√° 160/18, 110 00 Prag", desc: "Kaffee.", img: "supertr.jpg" },
            { id: "p_f27", city: "Prag", cat: "Essen", subtag: "street", title: "Coffee Room", cost: 15, time: "45min", res: "Nein", address: "Korunn√≠ 74, 101 00 Prag", desc: "Avocado Toast.", img: "coffeero.jpg" },
            { id: "p_f28", city: "Prag", cat: "Essen", subtag: "casual", title: "U Kroka", cost: 25, time: "1.5h", res: "Zwingend", address: "Vratislavova 12/28, 128 00 Prag", desc: "Abseits des Zentrums. Top Preis.", img: "ukr.jpg" },
            { id: "p_f29", city: "Prag", cat: "Essen", subtag: "fine", title: "Lehk√° Hlava", cost: 30, time: "1.5h", res: "Empfohlen", address: "Bor≈°ov 280/2, 110 00 Prag", desc: "Vegetarisch, spacig.", img: "lehkhl.jpg" },

            // --- PRAG AKTIVIT√ÑT ---
            { id: "p_a1", city: "Prag", cat: "Aktivit√§t", subtag: "relax", title: "Bier Spa Bernard", cost: 90, time: "1h", res: "Zwingend", address: "T√Ωn 10, 110 00 Prag", desc: "Baden in Bier.", img: "biersp.jpg" },
            { id: "p_a2", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Nuklearbunker Tour", cost: 25, time: "2h", res: "Ticket", address: "V√°clavsk√© n√°m. 45 (Hotel Jalta), 110 00 Prag", desc: "Ex-Sowjet Bunker.", img: "nuklearbunkerto.jpg" },
            { id: "p_a3", city: "Prag", cat: "Aktivit√§t", subtag: "relax", title: "Tretboot fahren", cost: 20, time: "1h", res: "Nein", address: "Slovansk√Ω ostrov, 110 00 Prag", desc: "Auf der Moldau (Slovansk√Ω Insel).", img: "tretbootfa.jpg" },
            { id: "p_a4", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Museum of Fantastic Illusions", cost: 15, time: "1h", res: "Nein", address: "Vodiƒçkova 31, 110 00 Prag", desc: "Lustige Fotos.", img: "museumofprag.jpg" },
            { id: "p_a5", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Altst√§dter Br√ºckenturm", cost: 10, time: "45min", res: "Nein", address: "Karl≈Øv most, 110 00 Prag", desc: "Aufstieg f√ºr den Karlsbr√ºcke-Blick.", img: "altstdterbr.jpg" },
            { id: "p_a6", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Museum des Kommunismus", cost: 15, time: "1.5h", res: "Nein", address: "V Celnici 1031/4, 110 00 Prag", desc: "Geschichte der CSSR.", img: "museumde.jpg" },
            { id: "p_a7", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Paternoster Aufzug", cost: 0, time: "15min", res: "Nein", address: "Mari√°nsk√© n√°m. 2, 110 00 Prag", desc: "Im Rathaus. Aufzug ohne T√ºren.", img: "paternosterau.jpg" },
            { id: "p_a8", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "DOX Centre for Art", cost: 20, time: "2h", res: "Nein", address: "Poupƒõtova 1, 170 00 Prag", desc: "Hole≈°ovice. Luftschiff auf dem Dach.", img: "doxce.jpg" },
            { id: "p_a9", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Magical Cavern", cost: 10, time: "45min", res: "Nein", address: "Pet≈ô√≠n, 118 00 Prag", desc: "Psychedelisch.", img: "magicalca.jpg" },
            { id: "p_a10", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Idiom Installation", cost: 0, time: "15min", res: "Nein", address: "Mari√°nsk√© n√°m. 1, 110 00 Prag", desc: "Unendlicher B√ºcherturm in der Bibliothek.", img: "idiomin.jpg" },
            { id: "p_a11", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Fernsehturm ≈Ωi≈ækov", cost: 15, time: "1h", res: "Nein", address: "Mahlerovy sady 1, 130 00 Prag", desc: "Babys.", img: "fernsehturmik.jpg" },
            { id: "p_a12", city: "Prag", cat: "Aktivit√§t", subtag: "relax", title: "Letn√° Park", cost: 0, time: "1h", res: "Nein", address: "Letn√°, 170 00 Prag", desc: "Metronom.", img: "letnpa.jpg" },
            { id: "p_a13", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "John Lennon Wall", cost: 0, time: "30min", res: "Nein", address: "Velkop≈ôevorsk√© n√°m., 118 00 Prag", desc: "Graffiti.", img: "johnle.jpg" },
            { id: "p_a14", city: "Prag", cat: "Aktivit√§t", subtag: "relax", title: "Palladium", cost: 0, time: "1h", res: "Nein", address: "N√°mƒõst√≠ Republiky 1, 110 00 Prag", desc: "Shopping.", img: "palladium.jpg" },
            { id: "p_a15", city: "Prag", cat: "Aktivit√§t", subtag: "culture", title: "Nationalmuseum", cost: 20, time: "2h", res: "Nein", address: "V√°clavsk√© n√°m. 68, 110 00 Prag", desc: "Prunkbau.", img: "nationalmuseum.jpg" },
            { id: "p_a16", city: "Prag", cat: "Aktivit√§t", subtag: "relax", title: "Sauna Spot Dvorce", cost: 35, time: "2h", res: "Empfohlen", address: "Podolsk√© n√°b≈ô. 1184/5, 147 00 Prag", desc: "Sauna an der Moldau.", img: "saunasp.jpg" },
            { id: "p_a17", city: "Prag", cat: "Aktivit√§t", subtag: "relax", title: "Infinit Maximus", cost: 50, time: "4h", res: "Empfohlen", address: "Hr√°zn√≠ 327/4a, 635 00 Brno", desc: "Riesige Saunawelt.", img: "infinitma.jpg" },

            // --- PRAG PARTY ---
            { id: "p_p1", city: "Prag", cat: "Party", subtag: "club", title: "Cross Club", cost: 15, time: "Bis 06:00", res: "Nein", address: "Plyn√°rn√≠ 1096/23, 170 00 Prag", desc: "Steampunk D&B.", img: "crosscl.jpg" },
            { id: "p_p2", city: "Prag", cat: "Party", subtag: "bar", title: "Hemingway Bar", cost: 40, time: "2h", res: "Zwingend", address: "Karol√≠ny Svƒõtl√© 26, 110 00 Prag", desc: "Absinth-Cocktails.", img: "hemingwayba.jpg" },
            { id: "p_p3", city: "Prag", cat: "Party", subtag: "bar", title: "Anonymous Bar", cost: 30, time: "2h", res: "Empfohlen", address: "Michalsk√° 12, 110 00 Prag", desc: "Hidden Bar.", img: "anonymousba.jpg" },
            { id: "p_p4", city: "Prag", cat: "Party", subtag: "bar", title: "U Sudu", cost: 10, time: "Open End", res: "Nein", address: "Vodiƒçkova 677/10, 110 00 Prag", desc: "H√∂hlenbar.", img: "usu.jpg" },
            { id: "p_p5", city: "Prag", cat: "Party", subtag: "bar", title: "Jazz Dock", cost: 25, time: "2h", res: "Ticket", address: "Jan√°ƒçkovo n√°b≈ô. 3249/2, 150 00 Prag", desc: "Direkt auf dem Wasser.", img: "jazzdo.jpg" },
            { id: "p_p6", city: "Prag", cat: "Party", subtag: "bar", title: "Black Angel's", cost: 40, time: "2h", res: "Nein", address: "Staromƒõstsk√© n√°m. 29, 110 00 Prag", desc: "Gothic.", img: "blackan.jpg" },
            { id: "p_p7", city: "Prag", cat: "Party", subtag: "club", title: "Karlovy Lazne", cost: 25, time: "Bis 05:00", res: "Nein", address: "Novotn√©ho l√°vka 198/5, 110 00 Prag", desc: "5-Stock.", img: "karlovyla.jpg" },
            { id: "p_p8", city: "Prag", cat: "Party", subtag: "club", title: "Paul Simon Konzert", cost: 90, time: "Event", res: "Ticket", address: "Kongresszentrum, Prag", desc: "Konzert.", img: "" }, 
            { id: "p_p9", city: "Prag", cat: "Party", subtag: "club", title: "Epic Prague", cost: 25, time: "Bis 05:00", res: "Ticket", address: "Revoluƒçn√≠ 1003/3, 110 00 Prag", desc: "EDM.", img: "epicpr.jpg" }
        ];

        // --- COMPONENTS ---

        const Icon = ({ name, className }) => {
            React.useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        // --- TIKTOK ICON (Custom SVG) ---
        const TikTokIcon = () => (
            <svg viewBox="0 0 24 24" fill="currentColor" className="w-3 h-3">
                <path d="M12.525.02c1.31-.02 2.61-.01 3.918.02.08 1.84 1.256 3.24 3.42 3.74V7.9c-1.63-.02-2.924-.6-3.879-1.92V12.9c0 3.32-3.11 5.76-6.618 4.69C7.38 17 6.13 14.88 7.5 12.3c.75-1.42 2.13-2.22 3.82-2.06V7c-3.14-.35-6.66 2.36-6.62 6.58.04 4.34 4.29 7.37 8.28 6.44 3.2-.74 5.38-3.9 5.25-7.74V4.68c2.16.03 4.14 1.3 5.09 3.5v-4.8c-.85-.18-1.7-.28-2.56-.28-1.5 0-2.88.58-4.04 1.58V0h-3.918z"/>
            </svg>
        );

        // --- GOOGLE ICON (Custom SVG) ---
        const GoogleIcon = () => (
            <svg viewBox="0 0 24 24" className="w-3 h-3">
                <path d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" fill="#4285F4"/>
                <path d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" fill="#34A853"/>
                <path d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.84z" fill="#FBBC05"/>
                <path d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" fill="#EA4335"/>
            </svg>
        );

        const TripTimeline = () => {
            const [progress, setProgress] = useState(0);
            const [currentSegment, setCurrentSegment] = useState(0);

            useEffect(() => {
                const now = new Date();
                const start = new Date('2026-04-01T00:00:00');
                const end = new Date('2026-04-10T23:59:59');
                const totalDuration = end - start;

                if (now < start) {
                    setProgress(0);
                    setCurrentSegment(0);
                } else if (now > end) {
                    setProgress(100);
                    setCurrentSegment(4);
                } else {
                    const elapsed = now - start;
                    const p = (elapsed / totalDuration) * 100;
                    setProgress(p);

                    const day = now.getDate();
                    if (day < 4) setCurrentSegment(1); 
                    else if (day < 7) setCurrentSegment(2); 
                    else setCurrentSegment(3); 
                }
            }, []);

            const getSegmentColor = (index) => {
                if (index === 1) return "bg-rose-400";
                if (index === 2) return "bg-amber-400";
                return "bg-emerald-400";
            };

            const getFillWidth = (start, end) => {
                if (progress < start) return 0;
                if (progress > end) return 100;
                return ((progress - start) / (end - start)) * 100;
            };

            return (
                <div className="w-full bg-white/50 border-b border-rose-100 p-4 sticky top-[72px] z-30 shadow-sm backdrop-blur-md hidden md:block">
                    <div className="max-w-4xl mx-auto relative pt-6 pb-2">
                        <div className="absolute top-0 left-0 w-full h-2 bg-slate-200 rounded-full overflow-hidden flex">
                            <div className="w-1/3 h-full relative border-r border-white/50">
                                <div className={`h-full ${getSegmentColor(1)}`} style={{width: `${getFillWidth(0, 33.3)}%`}}></div>
                            </div>
                            <div className="w-1/3 h-full relative border-r border-white/50">
                                <div className={`h-full ${getSegmentColor(2)}`} style={{width: `${getFillWidth(33.3, 66.6)}%`}}></div>
                            </div>
                            <div className="w-1/3 h-full relative">
                                <div className={`h-full ${getSegmentColor(3)}`} style={{width: `${getFillWidth(66.6, 100)}%`}}></div>
                            </div>
                        </div>

                        <div 
                            className="absolute top-[-14px] text-2xl transition-all duration-1000 ease-linear beer-cursor z-10" 
                            style={{ left: `calc(${progress}% - 12px)` }}
                        >
                            üç∫
                        </div>

                        <div className="flex justify-between text-[10px] font-bold text-slate-400 mt-3 uppercase tracking-wide relative">
                            <div className="flex flex-col items-center absolute left-0 -ml-4">
                                <span className="text-lg">üõ¨</span>
                                <span>Mi 01.04.</span>
                            </div>
                            <div className="absolute left-[16.5%] -ml-2 text-lg opacity-50">üá≠üá∫</div>
                            <div className="flex flex-col items-center absolute left-[33.3%] -ml-4">
                                <span className="text-lg">üöÇ</span>
                                <span>Sa 04.04.</span>
                            </div>
                            <div className="absolute left-[50%] -ml-2 text-lg opacity-50">üá¶üáπ</div>
                            <div className="flex flex-col items-center absolute left-[66.6%] -ml-4">
                                <span className="text-lg">üöÇ</span>
                                <span>Di 07.04.</span>
                            </div>
                            <div className="absolute left-[83.5%] -ml-2 text-lg opacity-50">üá®üáø</div>
                            <div className="flex flex-col items-center absolute right-0 -mr-4">
                                <span className="text-lg">üèÅ</span>
                                <span>Fr 10.04.</span>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        const CurrencyConverter = () => {
            const [amount, setAmount] = useState('');
            const [currency, setCurrency] = useState('CHF');
            
            const handleConvert = (targetCurr) => {
                if (!amount) return '---';
                const val = parseFloat(amount);
                if (isNaN(val)) return '---';
                
                let inCHF = val;
                if (currency !== 'CHF') {
                    inCHF = val / FX_RATES[currency];
                }
                
                if (targetCurr === 'CHF') return inCHF.toFixed(2);
                
                return Math.round(inCHF * FX_RATES[targetCurr]).toLocaleString();
            };

            return (
                <div className="flex flex-col sm:flex-row items-center gap-3 bg-white/80 backdrop-blur-md p-3 rounded-2xl border border-rose-100 shadow-sm text-xs font-medium w-full sm:w-auto">
                    <div className="flex items-center gap-2 bg-slate-50 px-3 py-1.5 rounded-xl border border-slate-200 w-full sm:w-auto">
                        <input 
                            type="number" 
                            placeholder="100" 
                            className="w-16 bg-transparent outline-none font-mono font-bold text-slate-700"
                            value={amount}
                            onChange={(e) => setAmount(e.target.value)}
                        />
                        <select 
                            value={currency} 
                            onChange={(e) => setCurrency(e.target.value)}
                            className="bg-transparent outline-none text-slate-500 font-bold cursor-pointer"
                        >
                            <option value="CHF">CHF</option>
                            <option value="HUF">HUF</option>
                            <option value="EUR">EUR</option>
                            <option value="CZK">CZK</option>
                        </select>
                    </div>
                    
                    <div className="flex gap-4 w-full justify-between sm:justify-start px-2">
                        {currency !== 'CHF' && (
                            <div className="flex flex-col items-center">
                                <span className="text-[9px] text-slate-400 font-bold uppercase">CHF</span>
                                <span className="font-mono text-slate-700">{handleConvert('CHF')}</span>
                            </div>
                        )}
                        {currency !== 'HUF' && (
                            <div className="flex flex-col items-center">
                                <span className="text-[9px] text-rose-400 font-bold uppercase">HUF</span>
                                <span className="font-mono text-slate-700">{handleConvert('HUF')}</span>
                            </div>
                        )}
                        {currency !== 'EUR' && (
                            <div className="flex flex-col items-center">
                                <span className="text-[9px] text-amber-500 font-bold uppercase">EUR</span>
                                <span className="font-mono text-slate-700">{handleConvert('EUR')}</span>
                            </div>
                        )}
                        {currency !== 'CZK' && (
                            <div className="flex flex-col items-center">
                                <span className="text-[9px] text-emerald-500 font-bold uppercase">CZK</span>
                                <span className="font-mono text-slate-700">{handleConvert('CZK')}</span>
                            </div>
                        )}
                    </div>
                </div>
            );
        };

        const StaticAlternativesModal = ({ isOpen, onClose, currentItem }) => {
            const [alternatives, setAlternatives] = useState([]);

            useEffect(() => {
                if (isOpen && currentItem) {
                    let matches = DB.filter(i => 
                        i.city === currentItem.city && 
                        i.cat === currentItem.cat && 
                        i.id !== currentItem.id
                    );

                    matches.sort((a, b) => {
                        const aMatch = a.subtag === currentItem.subtag ? 1 : 0;
                        const bMatch = b.subtag === currentItem.subtag ? 1 : 0;
                        return bMatch - aMatch;
                    });

                    // Fallback to City Only if no category match (e.g. unique items)
                    if (matches.length === 0) {
                        matches = DB.filter(i => i.city === currentItem.city && i.id !== currentItem.id);
                    }

                    setAlternatives(matches.slice(0, 4));
                }
            }, [isOpen, currentItem]);

            const openWebSearch = () => {
                const query = encodeURIComponent(`${currentItem.title} ${currentItem.city} alternative similar`);
                window.open(`https://www.google.com/search?q=${query}`, '_blank');
            };

            if (!isOpen || !currentItem) return null;

            return (
                <div className="fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-sm modal-enter" onClick={onClose}>
                    <div className="bg-white rounded-3xl w-full max-w-xl max-h-[85vh] overflow-hidden shadow-2xl relative flex flex-col" onClick={e => e.stopPropagation()}>
                        
                        <div className="p-5 border-b border-rose-100 flex justify-between items-center bg-rose-50/50">
                            <h2 className="text-lg font-bold text-rose-900">Alternativen zu "{currentItem.title}"</h2>
                            <button onClick={onClose} className="p-2 hover:bg-rose-100 rounded-full transition-colors"><Icon name="x" className="w-5 h-5 text-rose-400"/></button>
                        </div>

                        <div className="p-6 overflow-y-auto flex-1 custom-scroll bg-white">
                            <div className="space-y-3">
                                {alternatives.length > 0 ? alternatives.map(alt => (
                                    <div key={alt.id} className="border border-rose-100 rounded-2xl p-4 hover:border-rose-300 hover:shadow-md transition-all bg-white">
                                        <div className="flex justify-between items-start mb-1">
                                            <h4 className="font-bold text-slate-800">{alt.title}</h4>
                                            <span className="text-xs font-mono font-bold text-rose-600 bg-rose-50 px-2 py-1 rounded-lg">{alt.cost}.-</span>
                                        </div>
                                        <p className="text-xs text-slate-500 mb-2 line-clamp-2">{alt.desc}</p>
                                        <div className="flex gap-3 text-[10px] text-slate-400 font-bold uppercase tracking-wide">
                                            <span className="flex items-center gap-1"><Icon name="clock" className="w-3 h-3"/> {alt.time}</span>
                                            <span className="text-amber-600">{alt.res}</span>
                                        </div>
                                    </div>
                                )) : (
                                    <div className="text-center py-10 text-slate-400">Keine direkten Matches.</div>
                                )}
                            </div>
                        </div>

                        <div className="p-5 border-t border-rose-100 bg-slate-50">
                            <button 
                                onClick={openWebSearch}
                                className="w-full py-3 bg-white text-rose-600 text-sm font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-rose-50 transition-colors border-2 border-rose-100 shadow-sm"
                            >
                                <Icon name="search" className="w-4 h-4"/> 
                                Google nach Weiterem fragen
                            </button>
                        </div>
                    </div>
                </div>
            );
        };
        
        const TripCalendar = () => {
            const initialDays = Array.from({ length: 10 }, (_, i) => {
                const date = new Date(2026, 3, 1 + i); 
                const dayStr = date.toLocaleDateString('de-DE', { weekday: 'short', day: '2-digit', month: '2-digit' });
                let city = "Budapest üá≠üá∫";
                if (i >= 3 && i < 6) city = "Wien üá¶üáπ";
                if (i >= 6) city = "Prag üá®üáø";
                if (i === 3) city = "Budapest ‚û°Ô∏è Wien";
                if (i === 6) city = "Wien ‚û°Ô∏è Prag";

                return { id: i, date: dayStr, city, slots: { mor: "", aft: "", eve: "", nht: "" } };
            });

            const [days, setDays] = useState(() => {
                const saved = localStorage.getItem('trip_calendar');
                return saved ? JSON.parse(saved) : initialDays;
            });

            useEffect(() => {
                localStorage.setItem('trip_calendar', JSON.stringify(days));
            }, [days]);

            const updateSlot = (dayId, slot, value) => {
                setDays(prev => prev.map(d => d.id === dayId ? { ...d, slots: { ...d.slots, [slot]: value } } : d));
            };

            return (
                <div className="p-4 pb-20 fade-in">
                    <h2 className="text-xl font-bold mb-6 text-center text-rose-900">Dein Reiseplan üìÖ</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                        {days.map(day => (
                            <div key={day.id} className="bg-white rounded-xl shadow-sm border border-rose-100 overflow-hidden flex flex-col">
                                <div className="bg-rose-50 p-2 text-center border-b border-rose-100">
                                    <div className="font-bold text-rose-800">{day.date}</div>
                                    <div className="text-[10px] text-slate-500 uppercase tracking-wide">{day.city}</div>
                                </div>
                                <div className="p-2 space-y-2 flex-1">
                                    <textarea 
                                        placeholder="Morgen..." 
                                        className="w-full text-xs p-2 bg-slate-50 rounded border border-slate-100 resize-none h-16 focus:border-rose-300 outline-none"
                                        value={day.slots.mor}
                                        onChange={(e) => updateSlot(day.id, 'mor', e.target.value)}
                                    />
                                    <textarea 
                                        placeholder="Nachmittag..." 
                                        className="w-full text-xs p-2 bg-slate-50 rounded border border-slate-100 resize-none h-16 focus:border-rose-300 outline-none"
                                        value={day.slots.aft}
                                        onChange={(e) => updateSlot(day.id, 'aft', e.target.value)}
                                    />
                                    <textarea 
                                        placeholder="Abend..." 
                                        className="w-full text-xs p-2 bg-slate-50 rounded border border-slate-100 resize-none h-16 focus:border-rose-300 outline-none"
                                        value={day.slots.eve}
                                        onChange={(e) => updateSlot(day.id, 'eve', e.target.value)}
                                    />
                                </div>
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const Card = ({ item, onShowAlternatives, toggleFav, isFav }) => {
            const [showLocal, setShowLocal] = useState(false);
            const [imgError, setImgError] = useState(false);

            const imagePath = `${item.img}`;

            const openSearch = (platform) => {
                const query = item.cat === "Transport" && item.city === "Transfer" 
                    ? encodeURIComponent(item.desc.split('.')[0]) 
                    : encodeURIComponent(`${item.title} ${item.city}`);
                
                if (platform === 'google') {
                    window.open(`https://www.google.com/search?q=${query}`, '_blank');
                } else if (platform === 'tiktok') {
                    // Check if mobile
                    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                    
                    if (isMobile) {
                        // Deep Link for App
                        window.location.href = `tiktok://search?keyword=${query}`;
                        
                        // Fallback to web if app fails
                        setTimeout(() => {
                            window.open(`https://www.tiktok.com/search?q=${query}`, '_blank');
                        }, 1000);
                    } else {
                        // Desktop
                        window.open(`https://www.tiktok.com/search?q=${query}`, '_blank');
                    }
                }
            };

            const openMaps = () => {
                const query = encodeURIComponent(item.address || `${item.title}, ${item.city}`);
                window.open(`https://maps.google.com/?q=${query}`, '_blank');
            };

            const getResBadge = (res) => {
                if(res.includes("Zwingend")) return "badge-res-high";
                if(res.includes("Empfohlen")) return "badge-res-med";
                return "badge-res-low";
            };

            const getLocalPrice = () => {
                let currency = 'CHF';
                let rate = 1;
                if (item.city === "Budapest") { currency = 'HUF'; rate = FX_RATES.HUF; }
                else if (item.city === "Wien") { currency = '‚Ç¨'; rate = FX_RATES.EUR; }
                else if (item.city === "Prag") { currency = 'Kƒç'; rate = FX_RATES.CZK; }
                
                const val = (item.cost * rate).toLocaleString(undefined, {maximumFractionDigits: 0});
                return `${val} ${currency}`;
            };

            let themeClass = "border-slate-200";
            let btnClass = "bg-slate-900 hover:bg-slate-800";
            if (item.city === "Budapest") { themeClass = "border-rose-200"; btnClass = "bg-rose-600 hover:bg-rose-700"; }
            if (item.city === "Wien") { themeClass = "border-amber-200"; btnClass = "bg-amber-600 hover:bg-amber-700"; }
            if (item.city === "Prag") { themeClass = "border-emerald-200"; btnClass = "bg-emerald-600 hover:bg-emerald-700"; }
            if (item.city === "Transfer") { themeClass = "border-indigo-200"; btnClass = "bg-indigo-600 hover:bg-indigo-700"; }

            return (
                <div className={`bg-white rounded-2xl shadow-sm border ${themeClass} overflow-hidden card-hover flex flex-col h-full fade-in relative group`}>
                    
                    {/* Header Image Area */}
                    <div className="h-44 relative bg-slate-100 overflow-hidden">
                        {!imgError && item.img ? (
                            <img src={imagePath} alt={item.title} className="w-full h-full object-cover transition-opacity duration-300" onError={() => setImgError(true)} />
                        ) : (
                            <div className="img-fallback" style={{display: 'flex', backgroundColor: '#e2e8f0', alignItems: 'center', justifyContent: 'center', color: '#94a3b8', fontWeight: 700, fontSize: '1.5rem', width: '100%', height: '100%'}}>
                                {item.title.substring(0, 2).toUpperCase()}
                            </div>
                        )}
                        <div className="absolute top-2 right-2 flex gap-1">
                            <span className="bg-white/90 px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider text-slate-900 shadow-sm backdrop-blur-sm">{item.cat}</span>
                        </div>
                        <button 
                            onClick={(e) => { e.stopPropagation(); toggleFav(item.id); }}
                            className="absolute top-2 left-2 p-2 bg-white/80 backdrop-blur rounded-full shadow-md hover:scale-110 transition-transform cursor-pointer z-20"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill={isFav ? "#f43f5e" : "none"} stroke={isFav ? "#f43f5e" : "#94a3b8"} strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" 
                                className={`w-5 h-5 transition-all ${isFav ? 'heart-active' : ''}`}>
                                <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z" />
                            </svg>
                        </button>
                    </div>

                    <div className="p-4 flex-1 flex flex-col">
                        <div className="flex justify-between items-start mb-2">
                            <h3 className="font-bold text-slate-900 text-lg leading-tight">{item.title}</h3>
                            <div 
                                className="text-right shrink-0 ml-2 cursor-pointer select-none" 
                                onClick={() => setShowLocal(!showLocal)}
                                title="Klick zum W√§hrung wechseln"
                            >
                                <div className="font-mono font-bold text-indigo-600 bg-indigo-50 px-2 py-1 rounded-lg text-sm transition-colors hover:bg-indigo-100">
                                    {showLocal ? getLocalPrice() : `${item.cost}.-`}
                                </div>
                            </div>
                        </div>

                        <p className="text-xs text-slate-500 mb-5 leading-relaxed flex-1">{item.desc}</p>

                        <div className="grid grid-cols-5 gap-2 mb-4">
                            <button onClick={() => openSearch('google')} className="col-span-2 py-2 bg-slate-50 text-slate-600 text-[10px] font-bold rounded-xl flex items-center justify-center gap-1 hover:bg-slate-100 transition-colors border border-slate-100">
                                <GoogleIcon /> Google
                            </button>
                            {item.cat !== 'Transport' && (
                                <button onClick={() => openSearch('tiktok')} className="col-span-2 py-2 bg-white text-black text-[10px] font-bold rounded-xl flex items-center justify-center gap-1 hover:bg-slate-50 transition-colors border border-slate-200">
                                    <TikTokIcon /> TikTok
                                </button>
                            )}
                             <button onClick={openMaps} className="col-span-1 py-2 bg-slate-50 text-slate-600 rounded-xl flex items-center justify-center hover:bg-slate-100 transition-colors border border-slate-100" title="Karte">
                                <Icon name="map-pin" className="w-4 h-4"/>
                            </button>
                        </div>

                        <div className="border-t border-slate-50 pt-3 mt-auto space-y-3">
                            <div className="flex justify-between text-xs font-bold text-slate-400 uppercase tracking-wide">
                                <span className="flex items-center gap-1"><Icon name="clock" className="w-3 h-3"/> {item.time}</span>
                                <span className={`px-2 py-0.5 rounded ${getResBadge(item.res)}`}>Res: {item.res}</span>
                            </div>
                            
                            {item.cat !== 'Transport' && (
                                <button 
                                    onClick={() => onShowAlternatives(item)}
                                    className={`w-full py-2.5 text-white text-xs font-bold rounded-lg flex items-center justify-center gap-2 transition-all shadow-md ${btnClass}`}
                                >
                                    <Icon name="sparkles" className="w-3 h-3 text-white/70"/> 
                                    Alternativen
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [view, setView] = useState('hub');
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [cityFilter, setCityFilter] = useState("Budapest");
            const [catFilter, setCatFilter] = useState("Alle");
            const [modalOpen, setModalOpen] = useState(false);
            const [modalItem, setModalItem] = useState(null);
            
            const [favs, setFavs] = useState(() => {
                try {
                    const saved = localStorage.getItem('trip_favs');
                    return saved ? JSON.parse(saved) : [];
                } catch (e) { return []; }
            });

            useEffect(() => {
                localStorage.setItem('trip_favs', JSON.stringify(favs));
            }, [favs]);

            const toggleFav = (id) => {
                setFavs(prev => prev.includes(id) ? prev.filter(x => x !== id) : [...prev, id]);
            };

            const filteredDB = useMemo(() => {
                if (cityFilter === 'Favs') {
                    return DB.filter(item => favs.includes(item.id));
                }
                return DB.filter(item => {
                    if (cityFilter !== item.city) return false;
                    if (catFilter === "Alle") return true;
                    return item.cat === catFilter;
                });
            }, [cityFilter, catFilter, favs]);

            const handleShowAlternatives = (item) => {
                setModalItem(item);
                setModalOpen(true);
            };

            const toggleMenu = () => setIsMenuOpen(!isMenuOpen);

            // Trip Progress Logic
            const [progress, setProgress] = useState(0);
            const [daysLeft, setDaysLeft] = useState(0);
            const [tripActive, setTripActive] = useState(false);

            useEffect(() => {
                const start = new Date('2026-04-01T00:00:00');
                const end = new Date('2026-04-10T23:59:59');
                const now = new Date(); 
                
                const diffTime = start - now;
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 
                setDaysLeft(diffDays);

                if (now < start) {
                    setProgress(0);
                    setTripActive(false);
                } else if (now > end) {
                    setProgress(100);
                    setTripActive(false);
                } else {
                    setTripActive(true);
                    const totalDuration = end - start;
                    const elapsed = now - start;
                    setProgress((elapsed / totalDuration) * 100);
                }
            }, []);

            const cities = ["Budapest", "Transfer", "Wien", "Prag"];

            return (
                <div className="min-h-screen max-w-7xl mx-auto pb-20">
                    <header className="bg-white/90 backdrop-blur-md p-4 sticky top-0 z-50 border-b border-rose-100 shadow-sm mb-6">
                        <div className="flex flex-col gap-4 max-w-7xl mx-auto">
                            <div className="flex flex-row justify-between items-center gap-4">
                                <div>
                                    <h1 className="text-xl font-bold tracking-tighter text-rose-900 flex items-center gap-2">
                                        Bingus & Amor <span className="bg-rose-100 text-rose-600 text-[10px] px-2 py-0.5 rounded-full uppercase tracking-widest">Trip 2026</span>
                                    </h1>
                                    <p className="text-xs text-rose-400 mt-1 font-bold md:block hidden">
                                        {tripActive ? "Der Trip l√§uft! üåç Viel Spa√ü!" : (daysLeft > 0 ? `‚è≥ Noch ${daysLeft} Tage bis zum Abflug! ‚úàÔ∏è` : "Trip vorbei üëã")}
                                    </p>
                                </div>
                                
                                <div className="hidden md:block">
                                   <CurrencyConverter />
                                </div>
                                
                                <button className="md:hidden p-2" onClick={toggleMenu}>
                                    <Icon name={isMenuOpen ? "x" : "menu"} className="w-6 h-6 text-slate-700"/>
                                </button>
                            </div>

                            {/* Desktop Navigation & Filters */}
                             <div className="hidden md:flex gap-4 items-center">
                                 <div className="flex gap-2">
                                    <button onClick={() => setView('hub')} className={`px-4 py-2 rounded-lg font-bold text-sm ${view === 'hub' ? 'bg-rose-50 text-rose-700' : 'text-slate-500 hover:bg-slate-50'}`}>Hub</button>
                                    <button onClick={() => setView('calendar')} className={`px-4 py-2 rounded-lg font-bold text-sm ${view === 'calendar' ? 'bg-rose-50 text-rose-700' : 'text-slate-500 hover:bg-slate-50'}`}>Kalender</button>
                                 </div>
                                 <div className="h-6 w-px bg-slate-200"></div>
                                 
                                 {view === 'hub' && (
                                     <div className="flex gap-2 items-center w-full">
                                         <button onClick={() => { setCityFilter("Favs"); setCatFilter("Alle"); }} className={`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${cityFilter === "Favs" ? 'bg-rose-500 text-white' : 'text-slate-500 hover:bg-slate-50'}`}>‚ù§Ô∏è Favs</button>
                                         <div className="h-4 w-px bg-slate-200"></div>
                                         {cities.map(c => (
                                             <button key={c} onClick={() => { setCityFilter(c); setCatFilter("Alle"); }} className={`px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${cityFilter === c ? 'bg-slate-800 text-white' : 'text-slate-500 hover:bg-slate-50'}`}>
                                                 {c === "Transfer" ? "üöÑ" : c.substring(0,3).toUpperCase()}
                                             </button>
                                         ))}
                                         
                                         {/* Category Filter for Desktop */}
                                         {cityFilter !== "Transfer" && cityFilter !== "Favs" && (
                                            <div className="flex gap-2 ml-auto">
                                                {["Alle", "Essen", "Aktivit√§t", "Party"].map(cat => (
                                                    <button key={cat} onClick={() => setCatFilter(cat)} className={`px-3 py-1 rounded-full text-[10px] font-bold border ${catFilter === cat ? 'bg-rose-100 border-rose-300 text-rose-700' : 'bg-white border-slate-200 text-slate-500 hover:border-slate-300'}`}>{cat}</button>
                                                ))}
                                            </div>
                                         )}
                                     </div>
                                 )}
                             </div>
                             
                             {/* Desktop Timeline */}
                             <div className="hidden md:block w-full">
                                <TripTimeline />
                             </div>
                        </div>

                         {/* Mobile Menu */}
                        <div className={`overflow-hidden transition-all duration-300 md:hidden ${isMenuOpen ? 'max-h-[600px] border-t border-slate-100 mt-4 pt-4' : 'max-h-0'}`}>
                            <div className="space-y-4">
                                <p className="text-xs text-rose-400 font-bold text-center">
                                    {tripActive ? "Der Trip l√§uft! üåç" : (daysLeft > 0 ? `‚è≥ Noch ${daysLeft} Tage!` : "Trip vorbei üëã")}
                                </p>
                                <CurrencyConverter />
                                <div className="flex justify-center gap-2">
                                    <button onClick={() => { setView('hub'); setIsMenuOpen(false); }} className={`flex-1 py-2 rounded-lg text-sm font-bold ${view === 'hub' ? 'bg-rose-500 text-white' : 'bg-slate-100 text-slate-600'}`}>Hub</button>
                                    <button onClick={() => { setView('calendar'); setIsMenuOpen(false); }} className={`flex-1 py-2 rounded-lg text-sm font-bold ${view === 'calendar' ? 'bg-rose-500 text-white' : 'bg-slate-100 text-slate-600'}`}>Kalender</button>
                                </div>
                                
                                {view === 'hub' && (
                                    <div className="space-y-3">
                                        <div className="flex gap-2 overflow-x-auto no-scrollbar pb-1">
                                            <button onClick={() => setCityFilter("Favs")} className={`px-4 py-2 rounded-lg text-xs font-bold whitespace-nowrap ${cityFilter === "Favs" ? 'bg-rose-500 text-white' : 'bg-rose-50 text-rose-600'}`}>‚ù§Ô∏è Favs</button>
                                            {cities.map(c => (
                                                <button key={c} onClick={() => setCityFilter(c)} className={`px-4 py-2 rounded-lg text-xs font-bold whitespace-nowrap ${cityFilter === c ? 'bg-slate-800 text-white' : 'bg-slate-100 text-slate-600'}`}>
                                                    {c === "Transfer" ? "üöÑ" : c.toUpperCase()}
                                                </button>
                                            ))}
                                        </div>
                                        {cityFilter !== "Transfer" && cityFilter !== "Favs" && (
                                            <div className="flex gap-2 overflow-x-auto no-scrollbar">
                                                {["Alle", "Essen", "Aktivit√§t", "Party"].map(cat => (
                                                    <button key={cat} onClick={() => setCatFilter(cat)} className={`px-3 py-1.5 rounded-full text-[10px] font-bold border ${catFilter === cat ? 'bg-rose-100 border-rose-300 text-rose-700' : 'bg-white border-slate-200 text-slate-500'}`}>{cat}</button>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                )}
                            </div>
                        </div>
                    </header>

                    <main className="max-w-7xl mx-auto">
                        {view === 'hub' ? (
                            <div className="p-4">
                                <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6">
                                    {filteredDB.map(item => (
                                        <Card key={item.id} item={item} toggleFav={toggleFav} isFav={favs.includes(item.id)} onShowAlternatives={handleShowAlternatives} />
                                    ))}
                                </div>
                                {filteredDB.length === 0 && <div className="text-center py-20 text-slate-400 text-sm">Nichts gefunden.</div>}
                            </div>
                        ) : (
                            <TripCalendar />
                        )}
                    </main>
                    
                    <StaticAlternativesModal isOpen={modalOpen} onClose={() => setModalOpen(false)} currentItem={modalItem} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
