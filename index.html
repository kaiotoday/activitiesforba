<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Activity Hub: BUD • VIE • PRG</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; color: #0f172a; }
        
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        .modal-enter { animation: modalIn 0.3s cubic-bezier(0.16, 1, 0.3, 1) forwards; }
        @keyframes modalIn { from { opacity: 0; transform: scale(0.98) translateY(10px); } to { opacity: 1; transform: scale(1) translateY(0); } }
        
        /* Badges */
        .badge-res-high { background-color: #fee2e2; color: #991b1b; border: 1px solid #fecaca; }
        .badge-res-med { background-color: #ffedd5; color: #9a3412; border: 1px solid #fed7aa; }
        .badge-res-low { background-color: #dcfce7; color: #166534; border: 1px solid #bbf7d0; }
        
        .upload-area {
            background-color: #f1f5f9;
            background-image: url("data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='8' ry='8' stroke='%23CBD5E1FF' stroke-width='2' stroke-dasharray='8%2c 8' stroke-dashoffset='0' stroke-linecap='square'/%3e%3c/svg%3e");
            transition: all 0.2s ease;
        }
        .upload-area:hover { background-color: #e2e8f0; cursor: pointer; }

        /* Image Placeholder (Fallback) */
        .img-fallback {
            background-color: #e2e8f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            font-weight: 700;
            font-size: 1.5rem;
            letter-spacing: 0.05em;
            width: 100%;
            height: 100%;
        }
        
        .custom-scroll::-webkit-scrollbar { width: 6px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useMemo, useRef, useEffect } = React;

        // --- DATENBANK ---
        const DB = [
            { id: "t1", city: "Transfer", cat: "Transport", subtag: "train", title: "RegioJet Business Class", cost: 40, time: "2h 40min", res: "Zwingend", address: "Budapest-Keleti, 1087 Budapest", desc: "Route: Budapest -> Wien. 4er-Abteil, Ledersessel. Gratis Sekt/Kaffee.", img: "images/regiojetbu.jpg" },
            { id: "t2", city: "Transfer", cat: "Transport", subtag: "train", title: "ÖBB Railjet Business", cost: 80, time: "4h 05min", res: "Zwingend", address: "Wien Hbf, 1100 Wien", desc: "Route: Wien -> Prag. Upgrade zur 1. Klasse. Extrem ruhig.", img: "images/regiojetbu.jpg" },
            { id: "b_f1", city: "Budapest", cat: "Essen", subtag: "casual", title: "Menza Étterem", cost: 35, time: "1.5h", res: "Empfohlen", address: "Liszt Ferenc tér 2, 1061 Ungarn", desc: "Retro-70er Style Kantine, gehoben. Sehr lecker.", img: "images/menzatt.jpg" },
            { id: "b_f2", city: "Budapest", cat: "Essen", subtag: "street", title: "Street Food Karavan", cost: 15, time: "45min", res: "Nein", address: "Kazinczy u. 18, 1075 Ungarn", desc: "Direkt neben Szimpla. Lángos-Burger.", img: "images/streetfo.jpg" },
            { id: "b_f3", city: "Budapest", cat: "Essen", subtag: "fine", title: "Mazel Tov", cost: 60, time: "2h", res: "Zwingend", address: "Akácfa u. 47, 1072 Ungarn", desc: "Israelische Fusion in schicker Ruine. Tolle Atmosphäre.", img: "images/mazelto.jpg" },
            { id: "b_f4", city: "Budapest", cat: "Essen", subtag: "street", title: "Pizza Manufaktura", cost: 20, time: "1h", res: "Nein", address: "Lónyay u. 9, 1093 Ungarn", desc: "Local & Pizza. Entspannt, günstig.", img: "images/pizzama.jpg" },
            { id: "b_f5", city: "Budapest", cat: "Essen", subtag: "fine", title: "Twentysix", cost: 70, time: "2h", res: "Empfohlen", address: "Király u. 26, 1061 Ungarn", desc: "Indoor-Dschungel. Mediterran.", img: "images/twentysix.jpg" },
            { id: "b_f6", city: "Budapest", cat: "Essen", subtag: "casual", title: "Gettó Gulyás", cost: 30, time: "1.5h", res: "Empfohlen", address: "Wesselényi u. 18, 1077 Ungarn", desc: "Bestes Pörkölt (Gulasch) im Partyviertel.", img: "images/gettgu.jpg" },
            { id: "b_f7", city: "Budapest", cat: "Essen", subtag: "casual", title: "Cirkusz", cost: 30, time: "1.5h", res: "Nein", address: "Dob u. 25, 1074 Ungarn", desc: "Berühmtester Brunch-Spot.", img: "images/cirkusz.jpg" },
            { id: "b_f8", city: "Budapest", cat: "Essen", subtag: "street", title: "Bamba Marha", cost: 20, time: "45min", res: "Nein", address: "Október 6. u. 6, 1051 Ungarn", desc: "Top Burger.", img: "images/bambama.jpg" },
            { id: "b_f9", city: "Budapest", cat: "Essen", subtag: "street", title: "Frici Papa", cost: 15, time: "45min", res: "Nein", address: "Király u. 55, 1077 Ungarn", desc: "Kantine. Spottbillig.", img: "images/fricipa.jpg" },
            { id: "b_f10", city: "Budapest", cat: "Essen", subtag: "casual", title: "Dobrumba", cost: 40, time: "1.5h", res: "Empfohlen", address: "Dob u. 5, 1074 Ungarn", desc: "Levante Küche. Sehr hip.", img: "images/dobrumba.jpg" },
            { id: "b_f11", city: "Budapest", cat: "Essen", subtag: "fine", title: "Beerstro 14", cost: 50, time: "1.5h", res: "Empfohlen", address: "Károlyi utca 12, 1053 Ungarn", desc: "Steaks und Craft Beer.", img: "images/beerstro14.jpg" },
            { id: "b_f12", city: "Budapest", cat: "Essen", subtag: "casual", title: "Jamie Oliver's Italian", cost: 50, time: "1.5h", res: "Möglich", address: "Szentháromság u. 9-11, 1014 Ungarn", desc: "Solide Lage bei Fischerbastei.", img: "images/jamieol.jpg" },
            { id: "b_f13", city: "Budapest", cat: "Essen", subtag: "fine", title: "Déryné", cost: 60, time: "2h", res: "Zwingend", address: "Krisztina tér 3, 1013 Ungarn", desc: "Treffpunkt der Buda-Elite.", img: "images/dryn.jpg" },
            { id: "b_f14", city: "Budapest", cat: "Essen", subtag: "street", title: "Moto Pizza", cost: 25, time: "1h", res: "Nein", address: "Bartók Béla út 46, 1111 Ungarn", desc: "Neapolitanische Pizza.", img: "images/motopi.jpg" },
            { id: "b_f15", city: "Budapest", cat: "Essen", subtag: "street", title: "Bors Gastro Bar", cost: 15, time: "30min", res: "Nein", address: "Kazinczy u. 10, 1075 Ungarn", desc: "Suppen/Baguettes to go.", img: "images/borsga.jpg" },
            { id: "b_f16", city: "Budapest", cat: "Essen", subtag: "casual", title: "Franziska", cost: 35, time: "1.5h", res: "Empfohlen", address: "Iskola u. 29, 1011 Ungarn", desc: "Healthy Food, Smoothie Bowls.", img: "images/franziska.jpg" },
            { id: "b_f17", city: "Budapest", cat: "Essen", subtag: "casual", title: "Vinyl & Wood", cost: 25, time: "1h", res: "Nein", address: "Wesselényi u. 23, 1077 Ungarn", desc: "Cooles Design, guter Toast.", img: "images/vinylwo.jpg" },
            { id: "b_f18", city: "Budapest", cat: "Essen", subtag: "street", title: "Große Markthalle", cost: 15, time: "1h", res: "Nein", address: "Vámház krt. 1-3, 1093 Ungarn", desc: "Stände (Langos/Wurst).", img: "images/groema.jpg" },
            { id: "b_f19", city: "Budapest", cat: "Essen", subtag: "street", title: "Pink Pistachio", cost: 20, time: "30min", res: "Nein", address: "Hercegprímás u. 15, 1051 Ungarn", desc: "Süßes & Eis.", img: "images/pinkpi.jpg" },
            { id: "b_f20", city: "Budapest", cat: "Essen", subtag: "street", title: "Retro Lángos", cost: 10, time: "30min", res: "Nein", address: "Bajcsy-Zsilinszky út 25, 1065 Ungarn", desc: "Der Klassiker für Lángos.", img: "images/retroln.jpg" },
            { id: "b_f21", city: "Budapest", cat: "Essen", subtag: "street", title: "Cookie Beacon", cost: 20, time: "45min", res: "Nein", address: "Hercegprímás u. 15, 1051 Ungarn", desc: "Massive Cookies & Brunch.", img: "images/cookiebe.jpg" },
            { id: "b_f22", city: "Budapest", cat: "Essen", subtag: "street", title: "Buddy's Smash Burgers", cost: 20, time: "45min", res: "Nein", address: "Fehér Hajó u. 8, 1052 Ungarn", desc: "Smashed Burger.", img: "images/buddys.jpg" },
            { id: "b_f23", city: "Budapest", cat: "Essen", subtag: "casual", title: "Retek Bistro", cost: 40, time: "1.5h", res: "Empfohlen", address: "Mérleg u. 10, 1051 Ungarn", desc: "Klassisch ungarisch.", img: "images/retekbi.jpg" },
            { id: "b_f24", city: "Budapest", cat: "Essen", subtag: "fine", title: "Arquitecto Pitpit", cost: 50, time: "2h", res: "Empfohlen", address: "Ötpacsirta u. 2, 1088 Ungarn", desc: "Tapas im Innenhof.", img: "images/arquitectopi.jpg" },
            { id: "b_f25", city: "Budapest", cat: "Essen", subtag: "street", title: "Crudo Pizza", cost: 25, time: "1h", res: "Nein", address: "Fehér Hajó u. 2-6, 1052 Ungarn", desc: "Pizza & Wine.", img: "images/crudopi.jpg" },
            { id: "b_f26", city: "Budapest", cat: "Essen", subtag: "street", title: "Fluffy and me Pancake", cost: 20, time: "45min", res: "Nein", address: "Kazinczy u. 52 C, 1075 Ungarn", desc: "Fluffige japanische Pancakes.", img: "images/fluffyan.jpg" },
            { id: "b_f27", city: "Budapest", cat: "Essen", subtag: "street", title: "McDonalds Nyugati", cost: 15, time: "30min", res: "Nein", address: "Teréz krt. 55, 1062 Ungarn", desc: "Der schönste McDonalds der Welt.", img: "images/mcdonaldsny.jpg" },
            { id: "b_a1", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "House of Terror", cost: 15, time: "2h", res: "Nein", address: "Andrássy út 60, 1062 Ungarn", desc: "Museum Nazi- & Sowjetzeit.", img: "images/houseof.jpg" },
            { id: "b_a2", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Mandala Day Spa", cost: 100, time: "3h+", res: "Zwingend", address: "Ipoly u. 8, 1133 Ungarn", desc: "Luxus pur, Massagen.", img: "images/mandalada.jpg" },
            { id: "b_a3", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "Chimney Cake Workshop", cost: 35, time: "1.5h", res: "Zwingend", address: "Rákóczi út 73, 1088 Ungarn", desc: "Kürtőskalács selber backen.", img: "images/chimneyca.jpg" },
            { id: "b_a4", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Flippermuseum", cost: 15, time: "2h+", res: "Nein", address: "Radnóti Miklós u. 18, 1137 Ungarn", desc: "140+ Automaten Free Play.", img: "images/flippermuseum.jpg" },
            { id: "b_a5", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "St. Stephans Basilika", cost: 10, time: "1h", res: "Nein", address: "Szent István tér 1, 1051 Ungarn", desc: "Hoch auf die Kuppel für den Ausblick.", img: "images/stst.jpg" },
            { id: "b_a6", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Budaer Burgviertel", cost: 15, time: "2h", res: "Nein", address: "Szent György tér 2, 1014 Ungarn", desc: "Mit Standseilbahn hoch. Aussicht genießen.", img: "images/budaerbu.jpg" },
            { id: "b_a7", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Schuhe am Donauufer", cost: 0, time: "30min", res: "Nein", address: "Id. Antall József rkp., 1054 Ungarn", desc: "Bewegendes Mahnmal.", img: "images/schuheam.jpg" },
            { id: "b_a8", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "Light Art Museum", cost: 25, time: "1.5h", res: "Empfohlen", address: "Hold u. 13, 1054 Ungarn", desc: "Trippy Lichtinstallationen.", img: "images/lightar.jpg" },
            { id: "b_a9", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "House of Houdini", cost: 15, time: "1h", res: "Nein", address: "Dísz tér 11, 1014 Ungarn", desc: "Im Burgviertel. Mit Live-Zaubershow.", img: "images/houseofhou.jpg" },
            { id: "b_a10", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "Fischerbastei", cost: 10, time: "1h", res: "Nein", address: "Szentháromság tér, 1014 Ungarn", desc: "Der Fotospot schlechthin.", img: "images/fischerbastei.jpg" },
            { id: "b_a11", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "Hospital in the Rock", cost: 20, time: "1.5h", res: "Empfohlen", address: "Lovas út 4/c, 1012 Ungarn", desc: "Atombunker/Hospital.", img: "images/hospitalin.jpg" },
            { id: "b_a12", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Zugliget Chairlift", cost: 15, time: "1h", res: "Nein", address: "Zugligeti út 97, 1121 Ungarn", desc: "Sessellift.", img: "images/zugligetch.jpg" },
            { id: "b_a13", city: "Budapest", cat: "Aktivität", subtag: "culture", title: "Museum of Sweets & Selfies", cost: 20, time: "1h", res: "Empfohlen", address: "Paulay Ede u. 43, 1061 Ungarn", desc: "Instagram Fotos.", img: "images/museumof.jpg" },
            { id: "b_a14", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Cyberjump", cost: 20, time: "1.5h", res: "Empfohlen", address: "Hengermalom út 19, 1117 Ungarn", desc: "Trampolin Park.", img: "images/cyberjump.jpg" },
            { id: "b_a15", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Budapest Eye", cost: 15, time: "20min", res: "Nein", address: "Erzsébet tér, 1051 Ungarn", desc: "Riesenrad.", img: "images/budapestey.jpg" },
            { id: "b_a16", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Gozsdu Udvar Arcade", cost: 10, time: "30min", res: "Nein", address: "Dob u. 16, 1075 Ungarn", desc: "Airhockey.", img: "images/gozsduud.jpg" },
            { id: "b_a17", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Donau Night Walk", cost: 0, time: "1h", res: "Nein", address: "Bem rkp., 1011 Ungarn", desc: "Parlament leuchtet.", img: "images/donauni.jpg" },
            { id: "b_a18", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Rudas Bad", cost: 35, time: "3h", res: "Nein", address: "Döbrentei tér 9, 1013 Ungarn", desc: "Türkisches Bad.", img: "images/rudasba.jpg" },
            { id: "b_a19", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Lukács Bad", cost: 25, time: "3h", res: "Nein", address: "Frankel Leó út 25-29, 1023 Ungarn", desc: "Favorit der Einheimischen.", img: "images/lukcsba.jpg" },
            { id: "b_a20", city: "Budapest", cat: "Aktivität", subtag: "relax", title: "Palatinus Strand", cost: 20, time: "4h", res: "Nein", address: "Margitsziget, 1007 Ungarn", desc: "Freibad Margareteninsel.", img: "images/palatinusst.jpg" },
            { id: "b_p1", city: "Budapest", cat: "Party", subtag: "bar", title: "Szimpla Kert", cost: 15, time: "Open End", res: "Nein", address: "Kazinczy u. 14, 1075 Ungarn", desc: "Muss sein. Ruinenbar.", img: "images/szimplake.jpg" },
            { id: "b_p2", city: "Budapest", cat: "Party", subtag: "club", title: "Instant-Fogas", cost: 10, time: "Bis 06:00", res: "Nein", address: "Akácfa u. 49-51, 1073 Ungarn", desc: "Riesiges Labyrinth, 7 Floors.", img: "images/instantfogas.jpg" },
            { id: "b_p3", city: "Budapest", cat: "Party", subtag: "bar", title: "Hotsy Totsy", cost: 40, time: "2h", res: "Empfohlen", address: "Síp u. 24, 1075 Ungarn", desc: "High-End Cocktails.", img: "images/hotsyto.jpg" },
            { id: "b_p4", city: "Budapest", cat: "Party", subtag: "club", title: "Aether", cost: 20, time: "Bis 06:00", res: "Nein", address: "Kiraly u. 13 (Gozsdu), 1075 Ungarn", desc: "Techno/House Keller.", img: "images/aether.jpg" },
            { id: "b_p5", city: "Budapest", cat: "Party", subtag: "club", title: "Ötkert", cost: 20, time: "Bis 05:00", res: "Nein", address: "Zrínyi u. 4/A, 1051 Ungarn", desc: "Posher, R&B Hits.", img: "images/tkert.jpg" },
            { id: "b_p6", city: "Budapest", cat: "Party", subtag: "bar", title: "Pontoon", cost: 0, time: "Open End", res: "Nein", address: "Id. Antall József rkp. 1, 1051 Ungarn", desc: "Open Air an der Brücke.", img: "images/pontoon.jpg" },
            { id: "b_p7", city: "Budapest", cat: "Party", subtag: "bar", title: "Dürer Kert", cost: 15, time: "Open End", res: "Nein", address: "Öböl u. 1, 1117 Ungarn", desc: "Alternative Szene, Garten.", img: "images/drerke.jpg" },
            { id: "b_p8", city: "Budapest", cat: "Party", subtag: "club", title: "Budapest Boat Party", cost: 40, time: "22:00-00:00", res: "Ticket", address: "Petőfi tér 9, 1052 Ungarn", desc: "Auf Schiff saufen.", img: "images/budapestbo.jpg" },
            { id: "b_p9", city: "Budapest", cat: "Party", subtag: "bar", title: "Boutiq'Bar", cost: 40, time: "2h", res: "Empfohlen", address: "Paulay Ede u. 5, 1061 Ungarn", desc: "Weltklasse Cocktails.", img: "images/boutiqbar.jpg" },
            { id: "b_p10", city: "Budapest", cat: "Party", subtag: "bar", title: "Csendes Létterem", cost: 15, time: "2h", res: "Nein", address: "Ferenczy István u. 5, 1053 Ungarn", desc: "Surreale Vintage-Bar.", img: "images/csendeslt.jpg" },
            { id: "b_p11", city: "Budapest", cat: "Party", subtag: "bar", title: "Élesztőház", cost: 20, time: "2h", res: "Nein", address: "Tűzoltó u. 22, 1094 Ungarn", desc: "Ruinen-Pub für Craft Beer.", img: "images/leszthz.jpg" },
            { id: "b_p12", city: "Budapest", cat: "Party", subtag: "bar", title: "Madhouse", cost: 25, time: "2h", res: "Nein", address: "Anker köz 1-3, 1061 Ungarn", desc: "Bistro der Mad Scientist Brauerei.", img: "images/madhouse.jpg" },
            { id: "w_f1", city: "Wien", cat: "Essen", subtag: "casual", title: "Schwarzes Kameel", cost: 35, time: "1h", res: "Nein", address: "Bognergasse 5, 1010 Wien", desc: "MUST-DO. Stehbuffet, Brötchen & Wein. Society Treff.", img: "images/schwarzeska.jpg" },
            { id: "w_f2", city: "Wien", cat: "Essen", subtag: "casual", title: "Figlmüller", cost: 45, time: "1.5h", res: "Zwingend", address: "Wollzeile 5, 1010 Wien", desc: "Heimat des Schnitzels.", img: "images/figlmller.jpg" },
            { id: "w_f3", city: "Wien", cat: "Essen", subtag: "casual", title: "Naschmarkt (NENI)", cost: 35, time: "1.5h", res: "Empfohlen", address: "Naschmarkt 510, 1060 Wien", desc: "Israelisch am Markt.", img: "images/naschmarkt.jpg" },
            { id: "w_f4", city: "Wien", cat: "Essen", subtag: "fine", title: "Mochi", cost: 80, time: "2h", res: "Zwingend", address: "Praterstraße 15, 1020 Wien", desc: "Bestes Sushi/Fusion.", img: "images/mochi.jpg" },
            { id: "w_f5", city: "Wien", cat: "Essen", subtag: "fine", title: "Seven North", cost: 70, time: "2.5h", res: "Empfohlen", address: "Schottenfeldgasse 74, 1070 Wien", desc: "Eyal Shani. Laut, international.", img: "images/sevenno.jpg" },
            { id: "w_f6", city: "Wien", cat: "Essen", subtag: "casual", title: "Schnitzelwirt", cost: 30, time: "1h", res: "Nein", address: "Neubaugasse 52, 1070 Wien", desc: "Riesige Portionen, günstig.", img: "images/schnitzelwirt.jpg" },
            { id: "w_f7", city: "Wien", cat: "Essen", subtag: "street", title: "Swing Kitchen", cost: 20, time: "45min", res: "Nein", address: "Operngasse 24, 1040 Wien", desc: "Bester veganer Burger.", img: "images/swingki.jpg" },
            { id: "w_f8", city: "Wien", cat: "Essen", subtag: "street", title: "Leberkas-Pepi", cost: 8, time: "15min", res: "Nein", address: "Operngasse 12, 1010 Wien", desc: "Bester Leberkäse.", img: "images/leberkaspepi.jpg" },
            { id: "w_f9", city: "Wien", cat: "Essen", subtag: "fine", title: "Tian Bistro", cost: 60, time: "2h", res: "Empfohlen", address: "Schrankgasse 4, 1070 Wien", desc: "Vegetarisches Fine Dining.", img: "images/tianbi.jpg" },
            { id: "w_f10", city: "Wien", cat: "Essen", subtag: "fine", title: "Lugeck", cost: 50, time: "2h", res: "Zwingend", address: "Lugeck 4, 1010 Wien", desc: "Modernes Wirtshaus.", img: "images/lugeck.jpg" },
            { id: "w_f11", city: "Wien", cat: "Essen", subtag: "casual", title: "Café Drechsler", cost: 25, time: "1h", res: "Nein", address: "Linke Wienzeile 22, 1060 Wien", desc: "Klassisches Kaffeehaus.", img: "images/cafdr.jpg" },
            { id: "w_f12", city: "Wien", cat: "Essen", subtag: "casual", title: "Vollpension", cost: 25, time: "1.5h", res: "Empfohlen", address: "Schleifmühlgasse 16, 1040 Wien", desc: "Kuchen von Omas.", img: "images/vollpension.jpg" },
            { id: "w_f13", city: "Wien", cat: "Essen", subtag: "casual", title: "Ulrich", cost: 35, time: "1.5h", res: "Empfohlen", address: "Sankt-Ulrichs-Platz 1, 1070 Wien", desc: "Top Frühstück.", img: "images/ulrich.jpg" },
            { id: "w_f14", city: "Wien", cat: "Essen", subtag: "fine", title: "Das Loft", cost: 60, time: "2h", res: "Zwingend", address: "Praterstraße 1, 1020 Wien", desc: "Teurer Brunch mit Blick.", img: "images/daslo.jpg" },
            { id: "w_f15", city: "Wien", cat: "Essen", subtag: "casual", title: "Schweizerhaus", cost: 40, time: "2h", res: "Nein", address: "Prater 116, 1020 Wien", desc: "Stelze und Bier.", img: "images/schweizerhaus.jpg" },
            { id: "w_f16", city: "Wien", cat: "Essen", subtag: "casual", title: "Glacis Beisl", cost: 45, time: "2h", res: "Empfohlen", address: "Breite G. 4, 1070 Wien", desc: "Versteckt im MQ.", img: "images/glacisbe.jpg" },
            { id: "w_f17", city: "Wien", cat: "Essen", subtag: "street", title: "Pizza Mari", cost: 25, time: "1h", res: "Nein", address: "Leopoldsgasse 23A, 1020 Wien", desc: "Beste Pizza.", img: "images/pizzamari.jpg" },
            { id: "w_f18", city: "Wien", cat: "Essen", subtag: "street", title: "Fenster Café", cost: 10, time: "15min", res: "Nein", address: "Griechengasse 10, 1010 Wien", desc: "Kaffee in der Waffel.", img: "images/fensterca.jpg" },
            { id: "w_f19", city: "Wien", cat: "Essen", subtag: "casual", title: "Café Central", cost: 30, time: "1h", res: "Nein", address: "Herrengasse 14, 1010 Wien", desc: "Touristisch, aber schön.", img: "images/cafce.jpg" },
            { id: "w_f20", city: "Wien", cat: "Essen", subtag: "street", title: "Der Wiener Deewan", cost: 15, time: "45min", res: "Nein", address: "Liechtensteinstraße 10, 1090 Wien", desc: "Pay as you wish.", img: "images/derwi.jpg" },
            { id: "w_f21", city: "Wien", cat: "Essen", subtag: "street", title: "Bitzinger", cost: 10, time: "15min", res: "Nein", address: "Albertinaplatz 1, 1010 Wien", desc: "Bester Würstelstand.", img: "images/bitzinger.jpg" },
            { id: "w_f22", city: "Wien", cat: "Essen", subtag: "street", title: "Burger Bros", cost: 20, time: "45min", res: "Nein", address: "Museumsplatz 1, 1070 Wien", desc: "Casual Burger.", img: "images/burgerbr.jpg" },
            { id: "w_f23", city: "Wien", cat: "Essen", subtag: "street", title: "Ivy's Pho", cost: 20, time: "45min", res: "Nein", address: "Mariahilfer Str. 103, 1060 Wien", desc: "Vietnamesisch.", img: "images/ivysph.jpg" },
            { id: "w_f24", city: "Wien", cat: "Essen", subtag: "casual", title: "1500 Foodmakers", cost: 40, time: "1.5h", res: "Empfohlen", address: "Museumstraße 9, 1070 Wien", desc: "Im 25hours Hotel.", img: "images/1500fo.jpg" },
            { id: "w_f25", city: "Wien", cat: "Essen", subtag: "fine", title: "Motto am Fluss", cost: 50, time: "2h", res: "Empfohlen", address: "Franz-Josefs-Kai 2, 1010 Wien", desc: "Schiff-Design.", img: "images/mottoam.jpg" },
            { id: "w_f26", city: "Wien", cat: "Essen", subtag: "casual", title: "Ramien", cost: 30, time: "1h", res: "Nein", address: "Gumpendorfer Str. 9, 1060 Wien", desc: "Asiatisch.", img: "images/ramien.jpg" },
            { id: "w_a1", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Albertina", cost: 20, time: "2h", res: "Nein", address: "Albertinaplatz 1, 1010 Wien", desc: "Prunkräume & Kunst.", img: "images/albertina.jpg" },
            { id: "w_a2", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Hundertwasserhaus", cost: 0, time: "30min", res: "Nein", address: "Kegelgasse 36-38, 1030 Wien", desc: "Architektur Fotos.", img: "images/hundertwasserhaus.jpg" },
            { id: "w_a3", city: "Wien", cat: "Aktivität", subtag: "relax", title: "Prater", cost: 30, time: "3h", res: "Nein", address: "1020 Wien", desc: "Vergnügungspark.", img: "images/prater.jpg" },
            { id: "w_a4", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Narrenturm", cost: 15, time: "1h", res: "Nein", address: "Spitalgasse 2, 1090 Wien", desc: "Pathologisch-anatomisch.", img: "images/narrenturm.jpg" },
            { id: "w_a5", city: "Wien", cat: "Aktivität", subtag: "culture", title: "KHM", cost: 20, time: "2h", res: "Nein", address: "Maria-Theresien-Platz, 1010 Wien", desc: "Kunsthistorisches Museum.", img: "images/khm.jpg" },
            { id: "w_a6", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Schloss Schönbrunn", cost: 0, time: "2h", res: "Nein", address: "Schönbrunner Schloßstraße 47, 1130 Wien", desc: "Park ist gratis.", img: "images/schlosssc.jpg" },
            { id: "w_a7", city: "Wien", cat: "Aktivität", subtag: "relax", title: "Haus des Meeres", cost: 25, time: "2h", res: "Nein", address: "Fritz-Grünbaum-Platz 1, 1060 Wien", desc: "Aquarium im Flakturm.", img: "images/hausde.jpg" },
            { id: "w_a8", city: "Wien", cat: "Aktivität", subtag: "relax", title: "Therme Wien", cost: 40, time: "4h", res: "Nein", address: "Kurbadstraße 14, 1100 Wien", desc: "Moderne Therme.", img: "images/thermewi.jpg" },
            { id: "w_a9", city: "Wien", cat: "Aktivität", subtag: "relax", title: "Amalienbad", cost: 10, time: "2h", res: "Nein", address: "Reumannplatz 23, 1100 Wien", desc: "Historisches Hallenbad.", img: "images/amalienbad.jpg" },
            { id: "w_a10", city: "Wien", cat: "Aktivität", subtag: "relax", title: "Donaukanal", cost: 0, time: "1h", res: "Nein", address: "Donaukanal, 1010 Wien", desc: "Graffiti & Chillen.", img: "images/donaukanal.jpg" },
            { id: "w_a11", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Belvedere", cost: 20, time: "1.5h", res: "Empfohlen", address: "Prinz Eugen-Straße 27, 1030 Wien", desc: "Klimt's Kuss.", img: "images/belvedere.jpg" },
            { id: "w_a12", city: "Wien", cat: "Aktivität", subtag: "relax", title: "Schmetterlinghaus", cost: 10, time: "30min", res: "Nein", address: "Hofburg, 1010 Wien", desc: "Im Burggarten.", img: "images/schmetterlinghaus.jpg" },
            { id: "w_a13", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Weltmuseum", cost: 15, time: "1.5h", res: "Nein", address: "Heldenplatz, 1010 Wien", desc: "Ethnologie.", img: "images/weltmuseum.jpg" },
            { id: "w_a14", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Haus der Musik", cost: 15, time: "1.5h", res: "Nein", address: "Seilerstätte 30, 1010 Wien", desc: "Interaktiv.", img: "images/hausdermusik.jpg" },
            { id: "w_a15", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Dritte Mann Tour", cost: 25, time: "1h", res: "Ticket", address: "Karlsplatz, 1010 Wien", desc: "Kanaltour.", img: "images/drittema.jpg" },
            { id: "w_a16", city: "Wien", cat: "Aktivität", subtag: "culture", title: "Time Travel Vienna", cost: 20, time: "1h", res: "Nein", address: "Habsburgergasse 10A, 1010 Wien", desc: "5D Show.", img: "images/timetr.jpg" },
            { id: "w_p1", city: "Wien", cat: "Party", subtag: "club", title: "Volksgarten", cost: 20, time: "Bis 05:00", res: "Nein", address: "Volksgarten, 1010 Wien", desc: "Schicker Club im Park.", img: "images/volksgarten.jpg" },
            { id: "w_p2", city: "Wien", cat: "Party", subtag: "club", title: "Grelle Forelle", cost: 20, time: "Bis 06:00", res: "Nein", address: "Spittelauer Lände 12, 1090 Wien", desc: "Techno, Fotoverbot.", img: "images/grellefo.jpg" },
            { id: "w_p3", city: "Wien", cat: "Party", subtag: "bar", title: "Travel Shack", cost: 5, time: "Bis 04:00", res: "Nein", address: "Mariahilfer Gürtel 21, 1150 Wien", desc: "Backpacker, Shots.", img: "images/travelsh.jpg" },
            { id: "w_p4", city: "Wien", cat: "Party", subtag: "bar", title: "Loos Bar", cost: 20, time: "1h", res: "Nein", address: "Kärntner Durchgang 10, 1010 Wien", desc: "Architektur-Ikone.", img: "images/loosba.jpg" },
            { id: "w_p5", city: "Wien", cat: "Party", subtag: "bar", title: "Dachboden", cost: 20, time: "2h", res: "Nein", address: "Lerchenfelder Str. 1-3, 1070 Wien", desc: "Rooftop Bar.", img: "images/dachboden.jpg" },
            { id: "w_p6", city: "Wien", cat: "Party", subtag: "bar", title: "Krypt", cost: 25, time: "2h", res: "Nein", address: "Wasagasse 17, 1090 Wien", desc: "Kellerbar.", img: "images/krypt.jpg" },
            { id: "w_p7", city: "Wien", cat: "Party", subtag: "club", title: "Sass Music Club", cost: 15, time: "Bis 06:00", res: "Nein", address: "Karlsplatz 1, 1010 Wien", desc: "Elektronisch, intim.", img: "images/sassmu.jpg" },
            { id: "w_p8", city: "Wien", cat: "Party", subtag: "club", title: "Prater Dome", cost: 15, time: "Bis 05:00", res: "Nein", address: "Riesenradplatz 7, 1020 Wien", desc: "Großraumdisco.", img: "images/praterdo.jpg" },
            { id: "w_p9", city: "Wien", cat: "Party", subtag: "club", title: "Louis Tomlinson", cost: 80, time: "Event", res: "Ticket", address: "Karl-Farkas-Gasse 19, 1030 Wien", desc: "Konzert Marx Halle.", img: "" },
            { id: "p_f1", city: "Prag", cat: "Essen", subtag: "casual", title: "Kantýna", cost: 40, time: "1.5h", res: "Nein", address: "Politických vězňů 1511/5, 110 00 Prag", desc: "Carpaccio-Metzgerei in Bank.", img: "images/kantna.jpg" },
            { id: "p_f2", city: "Prag", cat: "Essen", subtag: "casual", title: "Lokal Dlouhááá", cost: 25, time: "Open End", res: "Empfohlen", address: "Dlouhá 33, 110 00 Prag", desc: "Frischestes Pilsner Urquell.", img: "images/lokaldl.jpg" },
            { id: "p_f3", city: "Prag", cat: "Essen", subtag: "casual", title: "Vytopna Railway", cost: 35, time: "1.5h", res: "Empfohlen", address: "Václavské nám. 802/56, 110 00 Prag", desc: "Wenzelsplatz. Getränke kommen mit Modelleisenbahn.", img: "images/vytopnara.jpg" },
            { id: "p_f4", city: "Prag", cat: "Essen", subtag: "fine", title: "Eska", cost: 40, time: "1.5h", res: "Empfohlen", address: "Pernerova 49, 186 00 Prag", desc: "Karlín. Michelin Bib Gourmand, Bäckerei-Restaurant.", img: "images/eska.jpg" },
            { id: "p_f5", city: "Prag", cat: "Essen", subtag: "street", title: "Naše Maso", cost: 25, time: "30min", res: "Nein", address: "Dlouhá 39, 110 00 Prag", desc: "Mini-Metzgerei. Hackbraten.", img: "images/naema.jpg" },
            { id: "p_f6", city: "Prag", cat: "Essen", subtag: "fine", title: "Field", cost: 120, time: "3h", res: "Zwingend", address: "U Milosrdných 12, 110 00 Prag", desc: "Michelin Stern.", img: "images/field.jpg" },
            { id: "p_f7", city: "Prag", cat: "Essen", subtag: "street", title: "Manifesto Market", cost: 30, time: "1h", res: "Nein", address: "Ostrovského 34, 150 00 Prag", desc: "Hipster Food Container Market.", img: "images/manifestoma.jpg" },
            { id: "p_f8", city: "Prag", cat: "Essen", subtag: "street", title: "Havelská Koruna", cost: 10, time: "30min", res: "Nein", address: "Havelská 21, 110 00 Prag", desc: "Tschechische Klassiker, Kantine, billig & schnell.", img: "images/havelskko.jpg" },
            { id: "p_f9", city: "Prag", cat: "Essen", subtag: "street", title: "Banh Mi Ba", cost: 15, time: "45min", res: "Nein", address: "Rybná 715/26, 110 00 Prag", desc: "Super vietnamesisches Essen (große Community in Prag).", img: "images/banhmi.jpg" },
            { id: "p_f10", city: "Prag", cat: "Essen", subtag: "casual", title: "Kuchyň", cost: 40, time: "1.5h", res: "Empfohlen", address: "Hradčanské nám. 1, 118 00 Prag", desc: "Auf der Burg. Tolle Aussicht, Essen aus Töpfen.", img: "images/kuchy.jpg" },
            { id: "p_f11", city: "Prag", cat: "Essen", subtag: "casual", title: "Pork's", cost: 30, time: "1.5h", res: "Empfohlen", address: "Mostecká 16, 118 00 Prag", desc: "Haxe.", img: "images/porks.jpg" },
            { id: "p_f12", city: "Prag", cat: "Essen", subtag: "fine", title: "Sia", cost: 50, time: "2h", res: "Empfohlen", address: "V Celnici 1034/6, 110 00 Prag", desc: "Asiatisch.", img: "images/sia.jpg" },
            { id: "p_f13", city: "Prag", cat: "Essen", subtag: "casual", title: "The Tavern", cost: 25, time: "1h", res: "Nein", address: "Chopinova 26, 120 00 Prag", desc: "Burger.", img: "images/theta.jpg" },
            { id: "p_f14", city: "Prag", cat: "Essen", subtag: "casual", title: "Kro Kitchen", cost: 25, time: "1h", res: "Nein", address: "Vinohradská 66, 130 00 Prag", desc: "Rotisserie.", img: "images/kroki.jpg" },
            { id: "p_f15", city: "Prag", cat: "Essen", subtag: "casual", title: "T-Anker", cost: 30, time: "1.5h", res: "Empfohlen", address: "Náměstí Republiky 8, 110 00 Prag", desc: "Dachterrasse.", img: "images/tanker.jpg" },
            { id: "p_f16", city: "Prag", cat: "Essen", subtag: "casual", title: "Vinohradský Parlament", cost: 30, time: "1.5h", res: "Empfohlen", address: "Korunní 1, 120 00 Prag", desc: "Knödel.", img: "images/vinohradskpa.jpg" },
            { id: "p_f17", city: "Prag", cat: "Essen", subtag: "casual", title: "Las Adelitas", cost: 30, time: "1.5h", res: "Empfohlen", address: "Americká 8, 120 00 Prag", desc: "Mexikaner.", img: "images/lasad.jpg" },
            { id: "p_f18", city: "Prag", cat: "Essen", subtag: "street", title: "Mr. HotDog", cost: 20, time: "1h", res: "Nein", address: "Kamenická 24, 170 00 Prag", desc: "Hotdogs.", img: "images/mrho.jpg" },
            { id: "p_f19", city: "Prag", cat: "Essen", subtag: "street", title: "Sisters Bistro", cost: 15, time: "30min", res: "Nein", address: "Dlouhá 39, 110 00 Prag", desc: "Brötchen.", img: "images/sistersbi.jpg" },
            { id: "p_f20", city: "Prag", cat: "Essen", subtag: "street", title: "Bageterie Boulevard", cost: 10, time: "15min", res: "Nein", address: "Václavské nám. 56, 110 00 Prag", desc: "Baguettes.", img: "images/bageteriebo.jpg" },
            { id: "p_f21", city: "Prag", cat: "Essen", subtag: "street", title: "Burrito Loco", cost: 10, time: "15min", res: "Nein", address: "Štefánikova 230/7, 150 00 Prag", desc: "Burritos.", img: "images/burritolo.jpg" },
            { id: "p_f22", city: "Prag", cat: "Essen", subtag: "casual", title: "Bistro Monk", cost: 30, time: "1h", res: "Empfohlen", address: "Michalská 20, 110 00 Prag", desc: "Frühstück.", img: "images/bistromo.jpg" },
            { id: "p_f23", city: "Prag", cat: "Essen", subtag: "casual", title: "Venue", cost: 30, time: "1h", res: "Nein", address: "Havelská 4, 110 00 Prag", desc: "Brunch.", img: "images/venue.jpg" },
            { id: "p_f24", city: "Prag", cat: "Essen", subtag: "street", title: "Bakeshop", cost: 25, time: "30min", res: "Nein", address: "Kozí 1, 110 00 Prag", desc: "Bäckerei.", img: "images/bakeshop.jpg" },
            { id: "p_f25", city: "Prag", cat: "Essen", subtag: "fine", title: "Café Savoy", cost: 40, time: "1.5h", res: "Empfohlen", address: "Vítězná 5, 150 00 Prag", desc: "Imperial.", img: "images/cafsa.jpg" },
            { id: "p_f26", city: "Prag", cat: "Essen", subtag: "street", title: "Super Tramp Coffee", cost: 10, time: "30min", res: "Nein", address: "Opatovická 160/18, 110 00 Prag", desc: "Kaffee.", img: "images/supertr.jpg" },
            { id: "p_f27", city: "Prag", cat: "Essen", subtag: "street", title: "Coffee Room", cost: 15, time: "45min", res: "Nein", address: "Korunní 74, 101 00 Prag", desc: "Avocado Toast.", img: "images/coffeero.jpg" },
            { id: "p_f28", city: "Prag", cat: "Essen", subtag: "casual", title: "U Kroka", cost: 25, time: "1.5h", res: "Zwingend", address: "Vratislavova 12/28, 128 00 Prag", desc: "Abseits des Zentrums. Top Preis.", img: "images/ukr.jpg" },
            { id: "p_f29", city: "Prag", cat: "Essen", subtag: "fine", title: "Lehká Hlava", cost: 30, time: "1.5h", res: "Empfohlen", address: "Boršov 280/2, 110 00 Prag", desc: "Vegetarisch, spacig.", img: "images/lehkhl.jpg" },
            { id: "p_a1", city: "Prag", cat: "Aktivität", subtag: "relax", title: "Bier Spa Bernard", cost: 90, time: "1h", res: "Zwingend", address: "Týn 10, 110 00 Prag", desc: "Baden in Bier.", img: "images/biersp.jpg" },
            { id: "p_a2", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Nuklearbunker Tour", cost: 25, time: "2h", res: "Ticket", address: "Václavské nám. 45 (Hotel Jalta), 110 00 Prag", desc: "Ex-Sowjet Bunker.", img: "images/nuklearbunkerto.jpg" },
            { id: "p_a3", city: "Prag", cat: "Aktivität", subtag: "relax", title: "Tretboot fahren", cost: 20, time: "1h", res: "Nein", address: "Slovanský ostrov, 110 00 Prag", desc: "Moldau Insel.", img: "images/tretbootfa.jpg" },
            { id: "p_a4", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Museum of Fantastic Illusions", cost: 15, time: "1h", res: "Nein", address: "Vodičkova 31, 110 00 Prag", desc: "Lustige Fotos.", img: "images/museumofprag.jpg" },
            { id: "p_a5", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Altstädter Brückenturm", cost: 10, time: "45min", res: "Nein", address: "Karlův most, 110 00 Prag", desc: "Aussicht.", img: "images/altstdterbr.jpg" },
            { id: "p_a6", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Museum des Kommunismus", cost: 15, time: "1.5h", res: "Nein", address: "V Celnici 1031/4, 110 00 Prag", desc: "Geschichte.", img: "images/museumde.jpg" },
            { id: "p_a7", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Paternoster Aufzug", cost: 0, time: "15min", res: "Nein", address: "Mariánské nám. 2, 110 00 Prag", desc: "Im Rathaus. Aufzug ohne Türen.", img: "images/paternosterau.jpg" },
            { id: "p_a8", city: "Prag", cat: "Aktivität", subtag: "culture", title: "DOX Centre for Art", cost: 20, time: "2h", res: "Nein", address: "Poupětova 1, 170 00 Prag", desc: "Luftschiff.", img: "images/doxce.jpg" },
            { id: "p_a9", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Magical Cavern", cost: 10, time: "45min", res: "Nein", address: "Petřín, 118 00 Prag", desc: "Psychedelisch.", img: "images/magicalca.jpg" },
            { id: "p_a10", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Idiom Installation", cost: 0, time: "15min", res: "Nein", address: "Mariánské nám. 1, 110 00 Prag", desc: "Unendlicher Bücherturm in der Bibliothek.", img: "images/idiomin.jpg" },
            { id: "p_a11", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Fernsehturm Žižkov", cost: 15, time: "1h", res: "Nein", address: "Mahlerovy sady 1, 130 00 Prag", desc: "Babys.", img: "images/fernsehturmik.jpg" },
            { id: "p_a12", city: "Prag", cat: "Aktivität", subtag: "relax", title: "Letná Park", cost: 0, time: "1h", res: "Nein", address: "Letná, 170 00 Prag", desc: "Metronom.", img: "images/letnpa.jpg" },
            { id: "p_a13", city: "Prag", cat: "Aktivität", subtag: "culture", title: "John Lennon Wall", cost: 0, time: "30min", res: "Nein", address: "Velkopřevorské nám., 118 00 Prag", desc: "Graffiti.", img: "images/johnle.jpg" },
            { id: "p_a14", city: "Prag", cat: "Aktivität", subtag: "relax", title: "Palladium", cost: 0, time: "1h", res: "Nein", address: "Náměstí Republiky 1, 110 00 Prag", desc: "Shopping.", img: "images/palladium.jpg" },
            { id: "p_a15", city: "Prag", cat: "Aktivität", subtag: "culture", title: "Nationalmuseum", cost: 20, time: "2h", res: "Nein", address: "Václavské nám. 68, 110 00 Prag", desc: "Prunkbau.", img: "images/nationalmuseum.jpg" },
            { id: "p_a16", city: "Prag", cat: "Aktivität", subtag: "relax", title: "Sauna Spot Dvorce", cost: 35, time: "2h", res: "Empfohlen", address: "Podolské nábř. 1184/5, 147 00 Prag", desc: "Sauna an der Moldau.", img: "images/saunasp.jpg" },
            { id: "p_a17", city: "Prag", cat: "Aktivität", subtag: "relax", title: "Infinit Maximus", cost: 50, time: "4h", res: "Empfohlen", address: "Hrázní 327/4a, 635 00 Brno", desc: "Riesige Saunawelt.", img: "images/infinitma.jpg" },
            { id: "p_p1", city: "Prag", cat: "Party", subtag: "club", title: "Cross Club", cost: 15, time: "Bis 06:00", res: "Nein", address: "Plynární 1096/23, 170 00 Prag", desc: "Steampunk D&B.", img: "images/crosscl.jpg" },
            { id: "p_p2", city: "Prag", cat: "Party", subtag: "bar", title: "Hemingway Bar", cost: 40, time: "2h", res: "Zwingend", address: "Karolíny Světlé 26, 110 00 Prag", desc: "Absinth-Cocktails.", img: "images/hemingwayba.jpg" },
            { id: "p_p3", city: "Prag", cat: "Party", subtag: "bar", title: "Anonymous Bar", cost: 30, time: "2h", res: "Empfohlen", address: "Michalská 12, 110 00 Prag", desc: "Hidden Bar.", img: "images/anonymousba.jpg" },
            { id: "p_p4", city: "Prag", cat: "Party", subtag: "bar", title: "U Sudu", cost: 10, time: "Open End", res: "Nein", address: "Vodičkova 677/10, 110 00 Prag", desc: "Höhlenbar.", img: "images/usu.jpg" },
            { id: "p_p5", city: "Prag", cat: "Party", subtag: "bar", title: "Jazz Dock", cost: 25, time: "2h", res: "Ticket", address: "Janáčkovo nábř. 3249/2, 150 00 Prag", desc: "Am Wasser.", img: "images/jazzdo.jpg" },
            { id: "p_p6", city: "Prag", cat: "Party", subtag: "bar", title: "Black Angel's", cost: 40, time: "2h", res: "Nein", address: "Staroměstské nám. 29, 110 00 Prag", desc: "Gothic.", img: "images/blackan.jpg" },
            { id: "p_p7", city: "Prag", cat: "Party", subtag: "club", title: "Karlovy Lazne", cost: 25, time: "Bis 05:00", res: "Nein", address: "Novotného lávka 198/5, 110 00 Prag", desc: "5-Stock.", img: "images/karlovyla.jpg" },
            { id: "p_p8", city: "Prag", cat: "Party", subtag: "club", title: "Paul Simon Konzert", cost: 90, time: "Event", res: "Ticket", address: "Kongresszentrum, Prag", desc: "Konzert.", img: "" }, // Kein Bild
            { id: "p_p9", city: "Prag", cat: "Party", subtag: "club", title: "Epic Prague", cost: 25, time: "Bis 05:00", res: "Ticket", address: "Revoluční 1003/3, 110 00 Prag", desc: "EDM.", img: "images/epicpr.jpg" }
        ];

        // --- HELPER COMPONENTS ---

        const Icon = ({ name, className }) => {
            React.useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const StaticAlternativesModal = ({ isOpen, onClose, currentItem }) => {
            const [alternatives, setAlternatives] = useState([]);

            useEffect(() => {
                if (isOpen && currentItem) {
                    let matches = DB.filter(i => 
                        i.city === currentItem.city && 
                        i.cat === currentItem.cat && 
                        i.id !== currentItem.id
                    );

                    matches.sort((a, b) => {
                        const aMatch = a.subtag === currentItem.subtag ? 1 : 0;
                        const bMatch = b.subtag === currentItem.subtag ? 1 : 0;
                        return bMatch - aMatch;
                    });

                    if (matches.length === 0) {
                        matches = DB.filter(i => i.cat === currentItem.cat && i.id !== currentItem.id);
                    }

                    setAlternatives(matches.slice(0, 4));
                }
            }, [isOpen, currentItem]);

            const openWebSearch = () => {
                const query = encodeURIComponent(`${currentItem.title} ${currentItem.city} alternative similar`);
                window.open(`https://www.google.com/search?q=${query}`, '_blank');
            };

            if (!isOpen || !currentItem) return null;

            return (
                <div className="fixed inset-0 z-[70] flex items-center justify-center p-4 bg-slate-900/90 backdrop-blur-sm modal-enter" onClick={onClose}>
                    <div className="bg-white rounded-2xl w-full max-w-2xl max-h-[85vh] overflow-y-auto shadow-2xl p-6 relative" onClick={e => e.stopPropagation()}>
                        
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-xl font-bold text-slate-900">Alternativen zu "{currentItem.title}"</h2>
                            <button onClick={onClose} className="p-2 hover:bg-slate-100 rounded-full"><Icon name="x" className="w-6 h-6"/></button>
                        </div>

                        <div className="space-y-4 mb-6">
                            {alternatives.length > 0 ? alternatives.map(alt => (
                                <div key={alt.id} className="border border-slate-200 rounded-xl p-4 bg-slate-50 flex flex-col hover:border-indigo-300 transition-colors">
                                    <div className="flex justify-between items-start mb-1">
                                        <h4 className="font-bold text-slate-800">{alt.title}</h4>
                                        <span className="text-xs font-mono font-bold text-indigo-600 bg-white px-2 py-1 rounded border">{alt.cost} CHF</span>
                                    </div>
                                    <p className="text-xs text-slate-600 mb-2">{alt.desc}</p>
                                    <div className="flex gap-3 text-[10px] text-slate-500 font-medium">
                                        <span className="flex items-center gap-1"><Icon name="clock" className="w-3 h-3"/> {alt.time}</span>
                                        <span className="flex items-center gap-1 text-amber-700">Res: {alt.res}</span>
                                    </div>
                                </div>
                            )) : (
                                <p className="text-slate-400 text-center text-sm">Keine direkten Datenbank-Alternativen gefunden.</p>
                            )}
                        </div>

                        <button 
                            onClick={openWebSearch}
                            className="w-full py-3 bg-indigo-50 text-indigo-700 text-sm font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-indigo-100 transition-colors border border-indigo-100"
                        >
                            <Icon name="search" className="w-4 h-4"/> 
                            Google nach weiteren Alternativen fragen
                        </button>
                    </div>
                </div>
            );
        };

        const Card = ({ item, onShowAlternatives }) => {
            const openSearch = (platform) => {
                const query = item.cat === "Transport" && item.city === "Transfer" 
                    ? encodeURIComponent(item.desc.split('.')[0]) 
                    : encodeURIComponent(`${item.title} ${item.city}`);
                const url = platform === 'google' ? `https://www.google.com/search?q=${query}` : `https://www.tiktok.com/search?q=${query}`;
                window.open(url, '_blank');
            };

            const openMaps = () => {
                const query = encodeURIComponent(item.address || `${item.title}, ${item.city}`);
                window.open(`https://maps.google.com/?q=${query}`, '_blank');
            };

            const getResBadge = (res) => {
                if(res.includes("Zwingend")) return "badge-res-high";
                if(res.includes("Empfohlen")) return "badge-res-med";
                return "badge-res-low";
            };

            return (
                <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-xl transition-all duration-300 flex flex-col h-full fade-in relative group">
                    <div className="h-44 relative bg-slate-200 overflow-hidden">
                        {item.img ? (
                            <img src={item.img} alt={item.title} className="w-full h-full object-cover transition-opacity duration-300" onError={(e) => { e.target.style.display = 'none'; e.target.nextSibling.style.display = 'flex'; }} />
                        ) : null}
                        <div className="img-fallback" style={{display: item.img ? 'none' : 'flex', backgroundColor: '#e2e8f0', alignItems: 'center', justifyContent: 'center', color: '#94a3b8', fontWeight: 700, fontSize: '1.5rem', width: '100%', height: '100%'}}>
                            {item.title.substring(0, 2).toUpperCase()}
                        </div>
                        <div className="absolute top-2 right-2 flex gap-1">
                            <span className="bg-white/90 px-2 py-1 rounded text-[10px] font-bold uppercase tracking-wider text-slate-900 shadow-sm backdrop-blur-sm">{item.cat}</span>
                        </div>
                    </div>
                    <div className="p-4 flex-1 flex flex-col">
                        <div className="flex justify-between items-start mb-2">
                            <h3 className="font-bold text-slate-800 leading-tight text-lg">{item.title}</h3>
                            <div className="text-right shrink-0 ml-2"><div className="font-mono font-bold text-indigo-600 text-sm">{item.cost}.-</div></div>
                        </div>
                        <p className="text-xs text-slate-500 mb-4 leading-relaxed flex-1">{item.desc}</p>
                        <div className="flex gap-2 mb-3">
                            <button onClick={() => openSearch('google')} className="flex-1 py-1.5 bg-blue-50 text-blue-600 text-[10px] font-bold rounded flex items-center justify-center gap-1 hover:bg-blue-100 transition-colors border border-blue-100"><Icon name="search" className="w-3 h-3"/> Google</button>
                            {item.cat !== 'Transport' && (
                                <button onClick={() => openSearch('tiktok')} className="flex-1 py-1.5 bg-pink-50 text-pink-600 text-[10px] font-bold rounded flex items-center justify-center gap-1 hover:bg-pink-100 transition-colors border border-pink-100"><Icon name="video" className="w-3 h-3"/> TikTok</button>
                            )}
                            <button onClick={openMaps} className="w-8 flex items-center justify-center bg-slate-100 rounded hover:bg-slate-200 border border-slate-200" title="Karte öffnen"><Icon name="map-pin" className="w-3 h-3 text-slate-600"/></button>
                        </div>
                        <div className="border-t border-slate-100 pt-3 mt-auto space-y-3">
                            <div className="flex justify-between text-xs font-medium text-slate-600">
                                <span className="flex items-center gap-1 bg-slate-50 px-2 py-1 rounded"><Icon name="clock" className="w-3 h-3"/> {item.time}</span>
                                <span className={`px-2 py-1 rounded ${getResBadge(item.res)}`}>Res: {item.res}</span>
                            </div>
                            {item.cat !== 'Transport' && (
                                <button onClick={() => onShowAlternatives(item)} className="w-full py-2 bg-slate-900 text-white text-xs font-bold rounded flex items-center justify-center gap-2 hover:bg-slate-800 transition-colors shadow-sm"><Icon name="sparkles" className="w-3 h-3 text-amber-400"/> Alternativen anzeigen</button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const App = () => {
            const [cityFilter, setCityFilter] = useState("Budapest");
            const [catFilter, setCatFilter] = useState("Alle");
            const [modalOpen, setModalOpen] = useState(false);
            const [modalItem, setModalItem] = useState(null);

            const filteredDB = useMemo(() => {
                return DB.filter(item => {
                    if (cityFilter !== item.city) return false;
                    if (catFilter === "Alle") return true;
                    return item.cat === catFilter;
                });
            }, [cityFilter, catFilter]);

            const handleShowAlternatives = (item) => {
                setModalItem(item);
                setModalOpen(true);
            };

            const cities = ["Budapest", "Transfer", "Wien", "Prag"];

            return (
                <div className="min-h-screen max-w-7xl mx-auto pb-20">
                    <header className="bg-white/80 backdrop-blur-md p-4 sticky top-0 z-50 border-b border-slate-200">
                        <div className="flex flex-col md:flex-row justify-between items-center gap-4 max-w-7xl mx-auto">
                            <div><h1 className="text-xl font-black tracking-tighter text-slate-900 flex items-center gap-2">ACTIVITY HUB <span className="bg-amber-400 text-white text-[10px] font-bold px-1.5 py-0.5 rounded">KAIO</span></h1></div>
                            <div className="flex bg-slate-100 p-1 rounded-lg overflow-x-auto">
                                {cities.map(c => (
                                    <button key={c} onClick={() => { setCityFilter(c); setCatFilter("Alle"); }} className={`px-4 py-1.5 rounded-md text-xs font-bold transition-all whitespace-nowrap ${cityFilter === c ? 'bg-white text-slate-900 shadow-sm' : 'text-slate-500 hover:text-slate-700'}`}>{c === "Transfer" ? "🚄 Transfer" : c}</button>
                                ))}
                            </div>
                        </div>
                    </header>
                    {cityFilter !== "Transfer" && (
                        <div className="px-6 py-3 bg-white border-b border-slate-100 sticky top-[73px] z-40 overflow-x-auto">
                            <div className="flex gap-2 justify-center md:justify-start max-w-7xl mx-auto">
                                {["Alle", "Essen", "Aktivität", "Party"].map(cat => (
                                    <button key={cat} onClick={() => setCatFilter(cat)} className={`px-3 py-1 rounded-full text-[11px] font-bold border transition-colors ${catFilter === cat ? 'bg-slate-900 text-white border-slate-900' : 'bg-white text-slate-500 border-slate-200 hover:border-slate-300'}`}>{cat}</button>
                                ))}
                            </div>
                        </div>
                    )}
                    <main className="p-6 max-w-7xl mx-auto">
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                            {filteredDB.map(item => (<Card key={item.id} item={item} onShowAlternatives={handleShowAlternatives} />))}
                        </div>
                        {filteredDB.length === 0 && (<div className="text-center py-20 text-slate-400"><p>Keine Einträge für {cityFilter} > {catFilter}</p></div>)}
                    </main>
                    <StaticAlternativesModal isOpen={modalOpen} onClose={() => setModalOpen(false)} currentItem={modalItem} />
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
